"use strict";(()=>{var e={};e.id=698,e.ids=[698],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},838:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>j,patchFetch:()=>R,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>x,staticGenerationAsyncStorage:()=>g});var s={};r.r(s),r.d(s,{DELETE:()=>d,GET:()=>c,POST:()=>p});var n=r(9303),o=r(8716),a=r(670),i=r(5662),u=r(7070);async function p(e){try{let t=(0,i.N)(),{task_id:r,user_id:s,start_time:n,end_time:o,duration_seconds:a,session_type:p,xp_earned:c,coins_earned:d,status:l}=await e.json(),{data:m,error:g}=await t.from("time_tracking").insert({task_id:r,user_id:s,start_time:n,end_time:o,duration_seconds:a,session_type:p,xp_earned:c,coins_earned:d,status:l}).select().single();if(g)return u.NextResponse.json({error:g.message},{status:500});return u.NextResponse.json({data:m})}catch(e){return u.NextResponse.json({error:"Internal server error"},{status:500})}}async function c(e){try{let t=(0,i.N)(),{searchParams:r}=new URL(e.url),s=r.get("user_id"),n=r.get("start_date"),o=r.get("end_date"),a=r.get("task_id");if(!s)return u.NextResponse.json({error:"User ID required"},{status:400});let p=t.from("time_tracking").select(`
        *,
        task:tasks (title)
      `).eq("user_id",s).order("start_time",{ascending:!1});n&&(p=p.gte("start_time",n)),o&&(p=p.lte("start_time",o)),a&&(p=p.eq("task_id",a));let{data:c,error:d}=await p;if(d)return u.NextResponse.json({error:d.message},{status:500});return u.NextResponse.json({data:c})}catch(e){return u.NextResponse.json({error:"Internal server error"},{status:500})}}async function d(e){try{let t=(0,i.N)(),{searchParams:r}=new URL(e.url),s=r.get("id");if(!s)return u.NextResponse.json({error:"Session ID required"},{status:400});let{error:n}=await t.from("time_tracking").delete().eq("id",s);if(n)return u.NextResponse.json({error:n.message},{status:500});return u.NextResponse.json({success:!0})}catch(e){return u.NextResponse.json({error:"Internal server error"},{status:500})}}let l=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/timer/sessions/route",pathname:"/api/timer/sessions",filename:"route",bundlePath:"app/api/timer/sessions/route"},resolvedPagePath:"D:\\vibecode\\tasktask\\app\\api\\timer\\sessions\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:x}=l,j="/api/timer/sessions/route";function R(){return(0,a.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:g})}},5662:(e,t,r)=>{r.d(t,{N:()=>o,O:()=>n});var s=r(7857);let n=(0,s.eI)("https://your-project.supabase.co","your-anon-key"),o=()=>(0,s.eI)("https://your-project.supabase.co","your-anon-key")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,564],()=>r(838));module.exports=s})();