"use strict";(()=>{var e={};e.id=974,e.ids=[974],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7018:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>k,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>g});var r={};s.r(r),s.d(r,{DELETE:()=>c,GET:()=>p,PUT:()=>d});var a=s(9303),n=s(8716),o=s(670),i=s(7070),u=s(5662);async function p(e,{params:t}){try{let{data:e,error:s}=await u.O.from("tasks").select(`
        *,
        tags:task_tags(tags(*))
      `).eq("id",t.id).single();if(s)return i.NextResponse.json({error:s.message},{status:500});if(!e)return i.NextResponse.json({error:"Task not found"},{status:404});return i.NextResponse.json({task:e})}catch(e){return i.NextResponse.json({error:"Internal server error"},{status:500})}}async function d(e,{params:t}){try{let{title:s,description:r,status:a,priority:n,due_date:o,tags:p}=await e.json(),{data:d,error:c}=await u.O.from("tasks").update({title:s,description:r,status:a,priority:n,due_date:o,updated_at:new Date().toISOString()}).eq("id",t.id).select().single();if(c)return i.NextResponse.json({error:c.message},{status:500});if(p&&(await u.O.from("task_tags").delete().eq("task_id",t.id),p.length>0)){let e=p.map(e=>({task_id:t.id,tag_id:e}));await u.O.from("task_tags").insert(e)}return i.NextResponse.json({task:d})}catch(e){return i.NextResponse.json({error:"Internal server error"},{status:500})}}async function c(e,{params:t}){try{let{error:e}=await u.O.from("tasks").delete().eq("id",t.id);if(e)return i.NextResponse.json({error:e.message},{status:500});return i.NextResponse.json({success:!0})}catch(e){return i.NextResponse.json({error:"Internal server error"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/tasks/[id]/route",pathname:"/api/tasks/[id]",filename:"route",bundlePath:"app/api/tasks/[id]/route"},resolvedPagePath:"D:\\vibecode\\tasktask\\app\\api\\tasks\\[id]\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:k,staticGenerationAsyncStorage:g,serverHooks:m}=l,x="/api/tasks/[id]/route";function f(){return(0,o.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:g})}},5662:(e,t,s)=>{s.d(t,{O:()=>r});let r=(0,s(7857).eI)("https://your-project.supabase.co","your-anon-key")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,564],()=>s(7018));module.exports=r})();