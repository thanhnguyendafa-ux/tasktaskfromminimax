(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{402:function(e,t,s){Promise.resolve().then(s.bind(s,42))},42:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return e1}});var a=s(7437),r=s(2265),l=s(521),i=s(6221),n=s(5805),c=s(6399),d=s(9232),o=s(9474);function x(e){let{children:t,className:s="",onClick:r,hover:i=!1}=e,n=r?l.E.div:"div";return(0,a.jsx)(n,{...i?{whileHover:{y:-4,boxShadow:"0 10px 40px rgba(0,0,0,0.3)"},whileTap:{scale:.98}}:{},onClick:r,className:"bg-dark-secondary rounded-2xl p-4 shadow-lg ".concat(s),children:t})}function m(e){let{value:t,max:s=100,className:r="",showLabel:i=!1,color:n="primary"}=e,c=Math.min(t/s*100,100);return(0,a.jsxs)("div",{className:"w-full ".concat(r),children:[i&&(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"Progress"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-text-primary",children:[Math.round(c),"%"]})]}),(0,a.jsx)("div",{className:"h-2 bg-dark-tertiary rounded-full overflow-hidden",children:(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(c,"%")},transition:{duration:.5,ease:"easeOut"},className:"h-full rounded-full ".concat({primary:"bg-accent-primary",success:"bg-emerald-500",warning:"bg-yellow-500",danger:"bg-red-500"}[n])})})]})}function u(e){let{src:t,name:s,size:r="md",showLevel:i=!1,level:n=1,frame:c}=e,d=s.slice(0,2).toUpperCase();return(0,a.jsxs)("div",{className:"relative inline-flex",children:[(0,a.jsx)(l.E.div,{whileHover:{scale:1.05},className:"".concat({sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-16 h-16 text-base",xl:"w-24 h-24 text-xl"}[r]," rounded-full bg-gradient-to-br from-accent-primary to-accent-secondary flex items-center justify-center font-bold text-white overflow-hidden border-2 ").concat(c||"border-accent-primary"),children:t?(0,a.jsx)("img",{src:t,alt:s,className:"w-full h-full object-cover"}):(0,a.jsx)("span",{children:d})}),i&&(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-accent-gold text-dark-primary text-xs font-bold px-1.5 py-0.5 rounded-full border-2 border-dark-primary",children:n})]})}var h=s(5832),p=s(7418),g=s(5954),j=s(8997),y=s(2449),b=s(2369);function N(e){let{currentPage:t,onNavigate:s}=e,r=[{id:"home",icon:h.Z,label:"Home"},{id:"tasks",icon:p.Z,label:"Tasks"},{id:"timer",icon:g.Z,label:"Timer"},{id:"pet",icon:j.Z,label:"Pet"},{id:"shop",icon:y.Z,label:"Shop"},{id:"profile",icon:b.Z,label:"Profile"}];return(0,a.jsx)(l.E.div,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 bg-dark-secondary border-t border-dark-tertiary px-4 py-2 pb-safe",children:(0,a.jsx)("div",{className:"flex justify-around items-center",children:r.map(e=>{let r=e.icon,i=t===e.id;return(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:()=>s(e.id),className:"flex flex-col items-center p-2 rounded-xl transition-all ".concat(i?"text-accent-primary":"text-text-muted hover:text-text-secondary"),children:[(0,a.jsx)(r,{className:"w-6 h-6 ".concat(i?"fill-current":"")}),(0,a.jsx)("span",{className:"text-xs mt-1",children:e.label})]},e.id)})})})}var f=s(9397);function v(e){let{onClick:t,visible:s=!0}=e;return s?(0,a.jsx)(l.E.div,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-20 right-4 z-40",children:(0,a.jsx)(l.E.button,{onClick:t,className:"w-14 h-14 rounded-full bg-accent-primary text-white shadow-lg shadow-accent-primary/30 flex items-center justify-center",children:(0,a.jsx)(f.Z,{className:"w-7 h-7"})})}):null}var w=s(8614),k=s(7226),_=s(9547),D=s(2805),C=s(9625);let T=(0,C.Ue)(e=>({theme:"dark",setTheme:t=>e({theme:t})}));function S(e){let{className:t=""}=e,{theme:s,setTheme:i}=T(),[n,c]=(0,r.useState)(!1),d=[{id:"dark",icon:(0,a.jsx)(k.Z,{className:"w-5 h-5"}),label:"Midnight",color:"#1a1a2e"},{id:"mint",icon:(0,a.jsx)(_.Z,{className:"w-5 h-5"}),label:"Fresh",color:"#10b981"},{id:"slate",icon:(0,a.jsx)(D.Z,{className:"w-5 h-5"}),label:"Clean",color:"#6366f1"}],o=d.find(e=>e.id===s);return(0,a.jsxs)("div",{className:"relative ".concat(t),children:[(0,a.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:()=>c(!n),className:"flex items-center gap-2 px-3 py-2 bg-dark-tertiary rounded-lg hover:bg-opacity-80 transition-all",children:[null==o?void 0:o.icon,(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:null==o?void 0:o.label})]}),(0,a.jsx)(w.M,{children:n&&(0,a.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 top-full mt-2 bg-dark-secondary rounded-xl shadow-xl border border-dark-tertiary overflow-hidden z-50",children:d.map(e=>(0,a.jsxs)(l.E.button,{whileHover:{x:4},onClick:()=>{i(e.id),c(!1)},className:"flex items-center gap-3 w-full px-4 py-3 text-left transition-all ".concat(s===e.id?"bg-dark-tertiary":"hover:bg-dark-tertiary/50"),children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full",style:{backgroundColor:e.color}}),e.icon,(0,a.jsx)("span",{className:"text-text-primary",children:e.label}),s===e.id&&(0,a.jsx)(l.E.div,{layoutId:"check",className:"ml-auto text-accent-primary",children:"✓"})]},e.id))})})]})}var E=s(9291),M=s(7586),Z=s(3307),P=s(1047),F=s(3468),I=s(1723),O=s(2029);function L(e){let{currentView:t,onViewChange:s}=e,[n,c]=(0,r.useState)(!1),d=[{id:"main",icon:(0,a.jsx)(E.Z,{className:"w-4 h-4"}),label:"Main"},{id:"list",icon:(0,a.jsx)(M.Z,{className:"w-4 h-4"}),label:"List"},{id:"kanban",icon:(0,a.jsx)(Z.Z,{className:"w-4 h-4"}),label:"Kanban"},{id:"calendar",icon:(0,a.jsx)(P.Z,{className:"w-4 h-4"}),label:"Calendar"},{id:"gallery",icon:(0,a.jsx)(F.Z,{className:"w-4 h-4"}),label:"Gallery"},{id:"gantt",icon:(0,a.jsx)(i.Z,{className:"w-4 h-4"}),label:"Gantt"},{id:"timeline",icon:(0,a.jsx)(I.Z,{className:"w-4 h-4"}),label:"Timeline"},{id:"database",icon:(0,a.jsx)(O.Z,{className:"w-4 h-4"}),label:"Database"}],o=d.slice(0,5),x=d.slice(5);return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex bg-dark-tertiary rounded-xl p-1",children:o.map(e=>{let r=t===e.id;return(0,a.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:()=>s(e.id),className:"flex items-center gap-1.5 px-3 py-2 rounded-lg transition-all text-xs ".concat(r?"bg-accent-primary text-white shadow-lg":"text-text-muted hover:text-text-primary hover:bg-dark-secondary"),title:e.label,children:[e.icon,(0,a.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id)})}),x.length>0&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.95},onClick:()=>c(!n),className:"flex items-center gap-1.5 px-3 py-2 bg-dark-tertiary rounded-lg text-text-muted hover:text-text-primary transition-all",children:(0,a.jsx)("span",{className:"text-xs",children:"•••"})}),(0,a.jsx)(w.M,{children:n&&(0,a.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 top-full mt-2 bg-dark-secondary rounded-xl p-2 shadow-xl border border-dark-tertiary z-50 min-w-[140px]",children:x.map(e=>{let r=t===e.id;return(0,a.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:()=>{s(e.id),c(!1)},className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg transition-all text-xs ".concat(r?"bg-accent-primary text-white":"text-text-muted hover:text-text-primary hover:bg-dark-tertiary"),children:[e.icon,e.label]},e.id)})})})]})]})}var z=s(5302),A=s(9227),U=s(3276);function R(e){let{variant:t="default",children:s,className:r=""}=e;return(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({low:"bg-green-500/20 text-green-400",medium:"bg-yellow-500/20 text-yellow-400",high:"bg-red-500/20 text-red-400",success:"bg-emerald-500/20 text-emerald-400",warning:"bg-orange-500/20 text-orange-400",danger:"bg-red-500/20 text-red-400",default:"bg-dark-tertiary text-text-secondary"}[t]," ").concat(r),children:s})}let H=(0,C.Ue)((e,t)=>({activeTaskId:null,elapsedSeconds:0,isRunning:!1,lastTick:null,setActiveTask:t=>e({activeTaskId:t}),setElapsed:t=>e({elapsedSeconds:t}),setRunning:t=>e({isRunning:t}),setLastTick:t=>e({lastTick:t}),tick:()=>{let{isRunning:s,lastTick:a,elapsedSeconds:r}=t();if(s&&a){let t=Date.now();e({elapsedSeconds:r+(t-a)/1e3,lastTick:t})}},syncElapsed:s=>{let{activeTaskId:a,isRunning:r}=t();a===s.id&&r&&s.timer_started_at&&e({elapsedSeconds:s.total_time_seconds+(Date.now()-new Date(s.timer_started_at).getTime())/1e3})}}));function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"with-seconds";if(e<0)return"0s";let s=Math.floor(e/3600),a=Math.floor(e%3600/60),r=e%60;switch(t){case"short":if(s>0)return"".concat(s,"h ").concat(a,"m");return"".concat(a,"m");case"long":if(s>0)return"".concat(s," hours ").concat(a," minutes");return"".concat(a," minutes");case"compact":return function(e){if(e<60)return"".concat(Math.round(e),"s");if(e<3600)return"".concat(Math.round(e/60),"m");if(e<86400){let t=Math.floor(e/3600),s=Math.round(e%3600/60);return s>0?"".concat(t,"h ").concat(s,"m"):"".concat(t,"h")}let t=Math.floor(e/86400),s=Math.round(e%86400/3600);return s>0?"".concat(t,"d ").concat(s,"h"):"".concat(t,"d")}(e);default:if(s>0)return"".concat(s,":").concat(a.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"));return"".concat(a,":").concat(r.toString().padStart(2,"0"))}}function X(e){if(e<0)return"0s";if(e<60)return"".concat(e,"s");let t=Math.floor(e/86400),s=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),r=e%60,l=[];return t>0&&l.push("".concat(t,"d")),s>0&&l.push("".concat(s,"h")),a>0&&l.push("".concat(a,"m")),r>0&&l.push("".concat(r,"s")),l.join(" ")}function G(e){let{task:t,onComplete:s,onTally:i,onPomodoro:n,onTimer:c,onClick:d}=e,[o,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),{activeTaskId:g,isRunning:j}=H(),y=g===t.id&&j,b="running"===t.timer_status&&t.timer_started_at?B(t.total_time_seconds+(Date.now()-new Date(t.timer_started_at).getTime())/1e3):B(t.total_time_seconds),N=e=>{if(!e)return"No tally yet";let t=Date.now()-new Date(e).getTime(),s=Math.floor(t/6e4),a=Math.floor(t/36e5);return s<1?"Just now":s<60?"".concat(s,"m ago"):a<24?"".concat(a,"h ago"):"".concat(Math.floor(t/864e5),"d ago")};return(0,r.useEffect)(()=>{p(N(t.last_tally_at));let e=setInterval(()=>{p(N(t.last_tally_at))},6e4);return()=>clearInterval(e)},[t.last_tally_at]),(0,a.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},children:(0,a.jsxs)(x,{hover:!0,className:"mb-3",onClick:d,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:e=>{e.stopPropagation(),s(t.id)},className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ".concat("completed"===t.status?"bg-emerald-500 border-emerald-500":"border-text-muted hover:border-accent-primary"),children:"completed"===t.status&&(0,a.jsx)(z.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium ".concat("completed"===t.status?"line-through text-text-muted":"text-text-primary"),children:t.title}),t.due_date&&(0,a.jsx)("p",{className:"text-xs text-text-muted mt-1",children:(e=>{let t=new Date(e);if(isNaN(t.getTime()))return"Invalid date";let s=t.getTime()-Date.now();if(s<0)return"Overdue";let a=Math.floor(s/36e5);return a<24?"".concat(a,"h left"):"".concat(Math.floor(a/24),"d left")})(t.due_date)})]})]}),(0,a.jsx)(R,{variant:{low:"low",medium:"medium",high:"high"}[t.priority],children:"high"===t.priority?"H":"medium"===t.priority?"M":"L"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:e=>{e.stopPropagation(),i(t.id),u(!0),setTimeout(()=>u(!1),1e3)},className:"flex items-center gap-1.5 px-2 py-1 bg-dark-tertiary rounded-lg hover:bg-opacity-80",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 text-accent-primary"}),(0,a.jsx)("span",{className:"text-text-primary",children:t.tally_count})]}),(0,a.jsx)(w.M,{children:o&&(0,a.jsx)(l.E.div,{initial:{opacity:0,y:0,scale:.5},animate:{opacity:1,y:-20,scale:1},exit:{opacity:0,y:-40},className:"absolute -top-8 left-0 text-accent-primary font-bold text-sm",children:"+1"})}),h&&(0,a.jsx)("span",{className:"absolute -bottom-3 left-0 text-[10px] text-text-muted whitespace-nowrap",children:h})]}),(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:e=>{e.stopPropagation(),n(t.id)},className:"flex items-center gap-1.5 px-2 py-1 bg-dark-tertiary rounded-lg hover:bg-opacity-80",children:[(0,a.jsx)(I.Z,{className:"w-4 h-4 text-yellow-500"}),(0,a.jsx)("span",{className:"text-text-primary",children:t.pomodoro_count})]}),(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:e=>{e.stopPropagation(),c(t.id)},className:"flex items-center gap-1.5 px-2 py-1 bg-dark-tertiary rounded-lg hover:bg-opacity-80 ".concat(y?"ring-2 ring-blue-500":""),children:[y?(0,a.jsx)(A.Z,{className:"w-4 h-4 text-blue-500 animate-pulse"}):(0,a.jsx)(U.Z,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-text-primary font-mono ".concat(y?"text-blue-400":""),children:b})]})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(m,{value:t.tally_count,max:t.tally_goal,color:t.tally_count>=t.tally_goal?"success":"primary",showLabel:!1})}),t.tags&&t.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-3",children:t.tags.slice(0,3).map(e=>(0,a.jsxs)("span",{className:"px-2 py-0.5 text-xs rounded-full bg-opacity-20",style:{backgroundColor:"".concat(e.color,"20"),color:e.color},children:[e.icon," ",e.name]},e.id))})]})})}function V(e){let{variant:t="primary",size:s="md",isLoading:r=!1,children:i,className:n="",disabled:c,...d}=e;return(0,a.jsx)(l.E.button,{whileTap:{scale:.95},className:"".concat("inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-accent-primary text-white hover:opacity-90 focus:ring-accent-primary",secondary:"bg-dark-tertiary text-text-primary hover:bg-opacity-80 focus:ring-dark-tertiary",ghost:"bg-transparent text-text-primary hover:bg-dark-tertiary focus:ring-dark-tertiary",danger:"bg-red-500 text-white hover:bg-red-600 focus:ring-red-500"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[s]," ").concat(r?"opacity-50 cursor-not-allowed":""," ").concat(n),disabled:c||r,...d,children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):i})}function W(e){let{label:t,error:s,icon:r,className:i="",...n}=e;return(0,a.jsxs)("div",{className:"w-full",children:[t&&(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:t}),(0,a.jsxs)("div",{className:"relative",children:[r&&(0,a.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-muted",children:r}),(0,a.jsx)(l.E.input,{whileFocus:{scale:1.02},className:"w-full px-4 py-3 bg-dark-tertiary border border-dark-tertiary rounded-xl text-text-primary placeholder-text-muted focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary transition-all duration-200 ".concat(r?"pl-10":""," ").concat(s?"border-red-500":""," ").concat(i),...n})]}),s&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:s})]})}var J=s(2489);function q(e){let{isOpen:t,onClose:s,title:r,children:i,size:n="md"}=e;return(0,a.jsx)(w.M,{children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:s}),(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[n]," max-h-[90vh] overflow-y-auto bg-dark-secondary rounded-2xl shadow-2xl overflow-hidden"),onClick:e=>e.stopPropagation(),children:[r&&(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-dark-tertiary",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-text-primary",children:r}),(0,a.jsx)("button",{onClick:s,className:"p-2 rounded-lg hover:bg-dark-tertiary transition-colors",children:(0,a.jsx)(J.Z,{className:"w-5 h-5 text-text-secondary"})})]}),(0,a.jsx)("div",{className:"p-6",children:i})]})})]})})}function Y(e){let{isOpen:t,onClose:s,onSubmit:i,tags:n}=e,[c,d]=(0,r.useState)(""),[o,x]=(0,r.useState)(""),[m,u]=(0,r.useState)("medium"),[h,p]=(0,r.useState)(""),[g,j]=(0,r.useState)([]),y=e=>{j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,a.jsx)(q,{isOpen:t,onClose:s,title:"Create Task",size:"md",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.trim()&&(i({title:c,description:o||null,priority:m,due_date:h||null,status:"pending",tags:g}),s(),d(""),x(""),u("medium"),p(""),j([]))},className:"space-y-4",children:[(0,a.jsx)(W,{label:"Task Title",placeholder:"What needs to be done?",value:c,onChange:e=>d(e.target.value),autoFocus:!0}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-1.5",children:"Description (optional)"}),(0,a.jsx)("textarea",{className:"w-full px-4 py-3 bg-dark-tertiary border border-dark-tertiary rounded-xl text-text-primary placeholder-text-muted focus:outline-none focus:border-accent-primary focus:ring-1 focus:ring-accent-primary transition-all duration-200 resize-none",rows:3,placeholder:"Add details...",value:o,onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Priority"}),(0,a.jsx)("div",{className:"flex gap-2",children:["low","medium","high"].map(e=>(0,a.jsx)(l.E.button,{whileTap:{scale:.95},type:"button",onClick:()=>u(e),className:"flex-1 py-2 rounded-lg border-2 transition-all ".concat(m===e?"low"===e?"border-green-500 bg-green-500/20 text-green-400":"medium"===e?"border-yellow-500 bg-yellow-500/20 text-yellow-400":"border-red-500 bg-red-500/20 text-red-400":"border-dark-tertiary text-text-muted hover:border-text-muted"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]}),(0,a.jsx)(W,{label:"Due Date (optional)",type:"datetime-local",value:h,onChange:e=>p(e.target.value)}),n.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:n.map(e=>(0,a.jsxs)(l.E.button,{type:"button",whileTap:{scale:.95},onClick:()=>y(e.id),className:"px-3 py-1 rounded-full text-sm transition-all ".concat(g.includes(e.id)?"ring-2 ring-accent-primary":"opacity-70 hover:opacity-100"),style:{backgroundColor:"".concat(e.color,"30"),color:e.color,borderColor:g.includes(e.id)?e.color:"transparent"},children:[e.icon," ",e.name]},e.id))})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(V,{type:"button",variant:"ghost",onClick:s,className:"flex-1",children:"Cancel"}),(0,a.jsx)(V,{type:"submit",className:"flex-1",children:"Create Task"})]})]})})}var K=s(9554),Q=s(1094);function $(e){let{task:t,onUpdateTally:s,onStartPomodoro:i,onStopPomodoro:n,onStartTimer:c,onStopTimer:d,onAddManualTime:o,onUpdateReminder:u,onUpdateGoal:h}=e,[p,g]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),[b,N]=(0,r.useState)("15"),[v,w]=(0,r.useState)(t.tally_count>0?t.tally_count+10:10),[k,_]=(0,r.useState)(!1),[D,C]=(0,r.useState)(!1),[T,S]=(0,r.useState)(1500),[E,M]=(0,r.useState)(0),[Z,P]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=()=>{let e=new Date(t.last_active_at||t.updated_at);P(Math.floor((new Date().getTime()-e.getTime())/6e4))};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[t.last_active_at,t.updated_at]);let F=Z<5?{color:"text-green-400",bg:"bg-green-500/20",icon:"\uD83D\uDFE2",label:"Active"}:Z<30?{color:"text-yellow-400",bg:"bg-yellow-500/20",icon:"\uD83D\uDFE1",label:"Idle"}:Z<60?{color:"text-orange-400",bg:"bg-orange-500/20",icon:"\uD83D\uDFE0",label:"Away"}:{color:"text-red-400",bg:"bg-red-500/20",icon:"\uD83D\uDD34",label:"Forgotten"};(0,r.useEffect)(()=>{let e;return k&&T>0?e=setInterval(()=>{S(e=>e-1)},1e3):0===T&&_(!1),()=>clearInterval(e)},[k,T]);let I=Math.min(100,t.tally_count/v*100);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-4",children:"\uD83D\uDCCA Tracking Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl text-center",children:[(0,a.jsx)("p",{className:"text-xs text-text-muted mb-1",children:"Tally"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-accent-primary",children:t.tally_count}),(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:["/ ",v," goal"]})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl text-center",children:[(0,a.jsx)("p",{className:"text-xs text-text-muted mb-1",children:"Pomodoro"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:t.pomodoro_count}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"sessions"})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl text-center",children:[(0,a.jsx)("p",{className:"text-xs text-muted mb-1",children:"Timer"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-400",children:[Math.floor(t.total_time_seconds/60),"m"]}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"total"})]}),(0,a.jsxs)("div",{className:"p-3 rounded-xl text-center ".concat(F.bg),children:[(0,a.jsx)("p",{className:"text-xs text-text-muted mb-1",children:"Time Away"}),(0,a.jsxs)("p",{className:"text-2xl font-bold ".concat(F.color),children:[Z,"m"]}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:F.label})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"\uD83D\uDD22 Tally Counter"}),(0,a.jsx)(V,{variant:"ghost",size:"sm",onClick:()=>g(!0),children:"Set Goal"})]}),(0,a.jsx)(m,{value:I,color:"primary",showLabel:!1}),(0,a.jsxs)("div",{className:"flex justify-center gap-2 mt-3",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>s(-1),className:"p-2 bg-dark-tertiary rounded-lg",children:(0,a.jsx)(K.Z,{className:"w-4 h-4 text-text-primary"})}),(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>s(1),className:"p-2 bg-accent-primary rounded-lg",children:(0,a.jsx)(f.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>s(5),className:"p-2 bg-dark-tertiary rounded-lg",children:(0,a.jsx)("span",{className:"text-sm text-text-primary",children:"+5"})}),(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>s(10),className:"p-2 bg-dark-tertiary rounded-lg",children:(0,a.jsx)("span",{className:"text-sm text-text-primary",children:"+10"})})]})]}),(0,a.jsxs)("div",{className:"mb-4 p-4 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"\uD83C\uDF45 Pomodoro Tracker"}),(0,a.jsxs)(R,{variant:"warning",children:[t.pomodoro_count,"/5"]})]}),(0,a.jsxs)("div",{className:"text-center mb-3",children:[(0,a.jsx)("p",{className:"text-4xl font-bold text-text-primary",children:X(T)}),(0,a.jsx)("div",{className:"flex justify-center gap-2 mt-2",children:[1,2,3,4,5].map(e=>(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e<=t.pomodoro_count?"bg-yellow-400":"bg-dark-secondary")},e))})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(V,{size:"sm",className:"flex-1",onClick:()=>{k?(_(!1),n()):(_(!0),i())},children:[k?(0,a.jsx)(A.Z,{className:"w-4 h-4"}):(0,a.jsx)(U.Z,{className:"w-4 h-4"}),k?"Pause":"Start 25m"]}),(0,a.jsx)(V,{size:"sm",variant:"ghost",onClick:()=>{_(!1),S(1500)},children:"Skip"})]})]}),(0,a.jsxs)("div",{className:"mb-4 p-4 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"⏱️ Timer Tracker"}),(0,a.jsx)(V,{variant:"ghost",size:"sm",onClick:()=>y(!0),children:"+ Manual"})]}),(0,a.jsxs)("div",{className:"text-center mb-3",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-400",children:X(Math.floor(t.total_time_seconds%3600))}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Session Time"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(V,{size:"sm",className:"flex-1",onClick:()=>{D?(C(!1),d()):(C(!0),c())},children:[D?(0,a.jsx)(A.Z,{className:"w-4 h-4"}):(0,a.jsx)(U.Z,{className:"w-4 h-4"}),D?"Pause":"Start"]}),(0,a.jsx)(V,{size:"sm",variant:"ghost",onClick:()=>{C(!1),d()},children:(0,a.jsx)(Q.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"mb-4 p-4 rounded-xl ".concat(F.bg),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xl",children:F.icon}),(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"\uD83D\uDD50 Time Away Tracking"})]}),Z>30&&(0,a.jsx)(V,{size:"sm",onClick:()=>s(0),children:"I'm Back!"})]}),(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:["Last active: ",Z," minutes ago • ",F.label]})]}),(0,a.jsxs)("div",{className:"p-4 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"\uD83D\uDD14 Reminders"}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:t.reminder_enabled,onChange:e=>u(e.target.checked,t.reminder_interval_minutes),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-dark-secondary rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent-primary"})]})]}),t.reminder_enabled&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:["Interval: Every ",t.reminder_interval_minutes," minutes"]}),(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:["Next reminder: ",t.next_reminder_at?new Date(t.next_reminder_at).toLocaleTimeString():"Not set"]})]})]})]}),(0,a.jsx)(q,{isOpen:p,onClose:()=>g(!1),title:"Set Tally Goal",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Goal"}),(0,a.jsx)("input",{type:"number",value:v,onChange:e=>w(parseInt(e.target.value)||10),className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary"})]}),(0,a.jsx)(V,{onClick:()=>{h(v),g(!1)},className:"w-full",children:"Save"})]})}),(0,a.jsx)(q,{isOpen:j,onClose:()=>y(!1),title:"Add Manual Time",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Minutes"}),(0,a.jsx)("input",{type:"number",value:b,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary"})]}),(0,a.jsx)("div",{className:"flex gap-2",children:[5,15,30,60].map(e=>(0,a.jsxs)(V,{variant:"ghost",size:"sm",onClick:()=>N(e.toString()),className:"flex-1",children:[e,"m"]},e))}),(0,a.jsxs)(V,{onClick:()=>{o(parseInt(b)||15),y(!1)},className:"w-full",children:["Add ",b," minutes"]})]})})]})}var ee=s(8930),et=s(401);function es(e){let{habits:t,onAddHabit:s,onCompleteHabit:i,onDeleteHabit:n}=e,[d,o]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[p,g]=(0,r.useState)("\uD83D\uDCCC"),[j,y]=(0,r.useState)("#6366f1"),b=e=>Math.min(100,e.current_count/e.target_count*100);return new Date().toISOString().split("T")[0],(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.Z,{className:"w-5 h-5 text-text-secondary"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Daily Habits"})]}),(0,a.jsx)(l.E.button,{whileTap:{scale:.95},onClick:()=>o(!0),className:"p-2 bg-accent-primary rounded-lg text-white",children:(0,a.jsx)(f.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:t.length}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Total"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-500/10 rounded-xl",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-400",children:t.filter(e=>e.current_count>=e.target_count).length}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Completed"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-orange-500/10 rounded-xl",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-400",children:t.filter(e=>e.current_count<e.target_count&&e.current_count>0).length}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"In Progress"})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 text-text-muted mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-text-muted",children:"No habits yet"}),(0,a.jsx)("p",{className:"text-text-muted text-xs",children:"Create your first habit!"})]}):t.map(e=>{let t=e.current_count>=e.target_count;return(0,a.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 rounded-xl border ".concat(t?"bg-green-500/10 border-green-500/30":"bg-dark-tertiary border-dark-tertiary"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:e.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-text-primary",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-xs text-orange-400",children:["\uD83D\uDD25 ",e.streak]}),(0,a.jsx)("button",{onClick:()=>n(e.id),className:"p-1 rounded hover:bg-red-500/20 text-text-muted hover:text-red-400",children:(0,a.jsx)(ee.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsx)(m,{value:b(e),color:t?"success":"primary",showLabel:!1}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-text-muted mt-1",children:[(0,a.jsxs)("span",{children:[e.current_count,"/",e.target_count]}),(0,a.jsxs)("span",{children:[Math.round(b(e)),"%"]})]})]}),(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>i(e.id),disabled:t,className:"p-2 rounded-full ".concat(t?"bg-green-500 text-white":"bg-dark-secondary hover:bg-accent-primary text-white"),children:(0,a.jsx)(et.Z,{className:"w-5 h-5"})})]})},e.id)})})]}),(0,a.jsx)(q,{isOpen:d,onClose:()=>o(!1),title:"Create New Habit",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Habit Name"}),(0,a.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"e.g., Morning jog",className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary placeholder-text-muted"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Icon"}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap",children:["\uD83D\uDCCC","\uD83D\uDCAA","\uD83D\uDCDA","\uD83C\uDFC3","\uD83D\uDCA7","\uD83E\uDDD8","\uD83C\uDFAF","\uD83D\uDCA4","\uD83C\uDF4E","✍️","\uD83C\uDFA8","\uD83C\uDFB5"].map(e=>(0,a.jsx)(l.E.button,{whileTap:{scale:1.1},onClick:()=>g(e),className:"w-10 h-10 rounded-lg text-xl flex items-center justify-center ".concat(p===e?"bg-accent-primary text-white":"bg-dark-tertiary"),children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Color"}),(0,a.jsx)("div",{className:"flex gap-2",children:["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#14b8a6","#f97316"].map(e=>(0,a.jsx)(l.E.button,{whileTap:{scale:1.1},onClick:()=>y(e),className:"w-8 h-8 rounded-full ".concat(j===e?"ring-2 ring-white ring-offset-2 ring-offset-dark-secondary":""),style:{backgroundColor:e}},e))})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(V,{variant:"ghost",onClick:()=>o(!1),className:"flex-1",children:"Cancel"}),(0,a.jsx)(V,{onClick:()=>{u.trim()&&(s({name:u,icon:p,color:j,frequency:"daily",target_count:1,current_count:0,is_active:!0}),h(""),o(!1))},className:"flex-1",children:"Create Habit"})]})]})})]})}var ea=s(8896);function er(e){let{goals:t,onAddGoal:s,onUpdateProgress:i,onDeleteGoal:n}=e,[c,d]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[j,y]=(0,r.useState)("100"),[b,N]=(0,r.useState)("100"),[v,w]=(0,r.useState)("50"),[k,_]=(0,r.useState)(""),D=e=>Math.min(100,e.current_value/e.target_value*100),C=e=>{let t=new Date(e),s=new Date;return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())<Date.UTC(s.getFullYear(),s.getMonth(),s.getDate())};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ea.Z,{className:"w-5 h-5 text-accent-primary"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Goals & OKRs"})]}),(0,a.jsx)(l.E.button,{whileTap:{scale:.95},onClick:()=>d(!0),className:"p-2 bg-accent-primary rounded-lg text-white",children:(0,a.jsx)(f.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:t.length}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Total"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-green-500/10 rounded-xl",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-400",children:t.filter(e=>e.is_completed).length}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Completed"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-yellow-500/10 rounded-xl",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-400",children:t.filter(e=>!e.is_completed&&!C(e.deadline)).length}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"In Progress"})]})]}),(0,a.jsx)("div",{className:"space-y-3",children:0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(o.Z,{className:"w-12 h-12 text-text-muted mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-text-muted",children:"No goals yet"}),(0,a.jsx)("p",{className:"text-text-muted text-xs",children:"Set your first goal!"})]}):t.map(e=>{let t=D(e),s=C(e.deadline)&&!e.is_completed;return(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl border ".concat(e.is_completed?"bg-green-500/10 border-green-500/30":s?"bg-red-500/10 border-red-500/30":"bg-dark-tertiary border-dark-tertiary"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"font-medium text-text-primary",children:e.title}),e.is_completed&&(0,a.jsx)(z.Z,{className:"w-5 h-5 text-green-400"})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-text-muted mt-1",children:e.description})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,a.jsx)(R,{variant:"danger",children:"Overdue"}),(0,a.jsx)("button",{onClick:()=>n(e.id),className:"p-1 rounded hover:bg-red-500/20 text-text-muted hover:text-red-400",children:"✕"})]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"Progress"}),(0,a.jsxs)("span",{className:"text-text-primary",children:[e.current_value,"/",e.target_value]})]}),(0,a.jsx)(m,{value:t,color:e.is_completed?"success":s?"danger":"primary",showLabel:!1})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,a.jsxs)("span",{className:"text-accent-gold",children:["\uD83D\uDCB0 ",e.reward_coins]}),(0,a.jsxs)("span",{className:"text-yellow-400",children:["⭐ ",e.reward_xp," XP"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 text-text-muted"}),(0,a.jsx)("span",{className:"text-xs ".concat(s?"text-red-400":"text-text-muted"),children:new Date(e.deadline).toLocaleDateString()})]})]}),!e.is_completed&&(0,a.jsxs)("div",{className:"flex gap-2 mt-3 pt-3 border-t border-dark-tertiary",children:[(0,a.jsx)(V,{size:"sm",variant:"ghost",onClick:()=>i(e.id,1),className:"flex-1",children:"+1"}),(0,a.jsx)(V,{size:"sm",variant:"ghost",onClick:()=>i(e.id,5),className:"flex-1",children:"+5"}),(0,a.jsx)(V,{size:"sm",variant:"ghost",onClick:()=>i(e.id,10),className:"flex-1",children:"+10"})]})]},e.id)})})]}),(0,a.jsx)(q,{isOpen:c,onClose:()=>d(!1),title:"Create New Goal",size:"lg",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Goal Title"}),(0,a.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),placeholder:"e.g., Complete 100 tasks",className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary placeholder-text-muted"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Description (optional)"}),(0,a.jsx)("textarea",{value:p,onChange:e=>g(e.target.value),placeholder:"Add more details...",className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary placeholder-text-muted",rows:2})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Target Value"}),(0,a.jsx)("input",{type:"number",value:j,onChange:e=>y(e.target.value),className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Deadline"}),(0,a.jsx)("input",{type:"date",value:k,onChange:e=>_(e.target.value),className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"XP Reward"}),(0,a.jsx)("input",{type:"number",value:b,onChange:e=>N(e.target.value),className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Coins Reward"}),(0,a.jsx)("input",{type:"number",value:v,onChange:e=>w(e.target.value),className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(V,{variant:"ghost",onClick:()=>d(!1),className:"flex-1",children:"Cancel"}),(0,a.jsx)(V,{onClick:()=>{u.trim()&&j&&(s({title:u,description:p,target_value:parseInt(j),reward_xp:parseInt(b),reward_coins:parseInt(v),deadline:k,is_completed:!1}),h(""),g(""),d(!1))},className:"flex-1",children:"Create Goal"})]})]})})]})}function el(e){let{challenges:t,onClaimReward:s,onUpdateProgress:i}=e,[n,c]=(0,r.useState)("daily"),d=t.filter(e=>"daily"===e.type),u=t.filter(e=>"weekly"===e.type),h=e=>{let t=new Date(e).getTime()-Date.now();return t<=0?"Expired":"".concat(Math.floor(t/36e5),"h ").concat(Math.floor(t%36e5/6e4),"m")},p=e=>Math.min(100,e.current_progress/e.target*100);return(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-accent-gold"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Challenges"})]}),(0,a.jsxs)(R,{variant:"warning",children:[t.filter(e=>!e.is_completed&&e.current_progress>0).length," in progress"]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.95},onClick:()=>c("daily"),className:"flex-1 py-2 rounded-lg text-sm font-medium ".concat("daily"===n?"bg-accent-primary text-white":"bg-dark-tertiary text-text-secondary"),children:"Daily"}),(0,a.jsx)(l.E.button,{whileTap:{scale:.95},onClick:()=>c("weekly"),className:"flex-1 py-2 rounded-lg text-sm font-medium ".concat("weekly"===n?"bg-accent-primary text-white":"bg-dark-tertiary text-text-secondary"),children:"Weekly"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[("daily"===n?d:u).map(e=>{let t=p(e),r=t>=100&&!e.is_completed,n=new Date(e.expires_at)<new Date;return(0,a.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl border ".concat(e.is_completed?"bg-green-500/10 border-green-500/30":n?"bg-gray-500/10 border-gray-500/30 opacity-60":"bg-dark-tertiary border-dark-tertiary"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat(e.is_completed?"bg-green-500/20":"bg-accent-primary/20"),children:e.is_completed?(0,a.jsx)(z.Z,{className:"w-5 h-5 text-green-400"}):(0,a.jsx)(ea.Z,{className:"w-5 h-5 text-accent-primary"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("h4",{className:"font-medium text-text-primary",children:e.title}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:n?(0,a.jsx)(R,{variant:"default",children:"Expired"}):(0,a.jsxs)("span",{className:"text-xs text-text-muted flex items-center gap-1",children:[(0,a.jsx)(I.Z,{className:"w-3 h-3"}),h(e.expires_at)]})})]}),(0,a.jsx)("p",{className:"text-xs text-text-muted mb-2",children:e.description}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"Progress"}),(0,a.jsxs)("span",{className:"text-text-primary",children:[e.current_progress,"/",e.target]})]}),(0,a.jsx)(m,{value:t,color:e.is_completed?"success":"primary",showLabel:!1})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,a.jsxs)("span",{className:"text-accent-gold",children:["\uD83D\uDCB0 ",e.reward_coins]}),(0,a.jsxs)("span",{className:"text-yellow-400",children:["⭐ ",e.reward_xp," XP"]})]}),r?(0,a.jsx)(V,{size:"sm",onClick:()=>s(e.id),children:"Claim!"}):(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(V,{size:"sm",variant:"ghost",onClick:()=>i(e.id,1),children:"+1"}),(0,a.jsx)(V,{size:"sm",variant:"ghost",onClick:()=>i(e.id,5),children:"+5"})]})]})]})]})},e.id)}),0===("daily"===n?d:u).length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(o.Z,{className:"w-12 h-12 text-text-muted mx-auto mb-2"}),(0,a.jsxs)("p",{className:"text-text-muted",children:["No ",n," challenges"]}),(0,a.jsx)("p",{className:"text-text-muted text-xs",children:"Check back later!"})]})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-dark-tertiary",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-sm text-text-secondary mb-2",children:["Complete all ",n," challenges for bonus!"]}),(0,a.jsx)("div",{className:"flex justify-center gap-2",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center ".concat(e<=("daily"===n?2:1)?"bg-accent-gold text-white":"bg-dark-tertiary text-text-muted"),children:e<=("daily"===n?2:1)?"✓":e},e))})]})})]})}var ei=s(7414),en=s(6337),ec=s(2023);function ed(e){let{rewards:t,currentStreak:s,onClaim:i}=e,[n,c]=(0,r.useState)(null),o=e=>({1:{coins:10,rarity:"common"},2:{coins:15,rarity:"common"},3:{coins:20,rarity:"uncommon"},4:{coins:25,rarity:"uncommon"},5:{coins:30,rarity:"rare"},6:{coins:35,rarity:"rare"},7:{coins:50,rarity:"epic"}})[e]||{coins:10,rarity:"common"},m=e=>{switch(e){case"common":default:return"from-gray-500 to-gray-600";case"uncommon":return"from-green-500 to-green-600";case"rare":return"from-blue-500 to-blue-600";case"epic":return"from-purple-500 to-purple-600";case"legendary":return"from-orange-500 to-orange-600"}};return(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ei.Z,{className:"w-5 h-5 text-accent-gold"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Daily Rewards"})]}),(0,a.jsxs)(R,{variant:"warning",children:["\uD83D\uDD25 ",s," day streak"]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"Weekly Progress"}),(0,a.jsxs)("span",{className:"text-text-primary",children:[s,"/7 days"]})]}),(0,a.jsx)("div",{className:"h-2 bg-dark-tertiary rounded-full overflow-hidden",children:(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(s/7*100,"%")},className:"h-full bg-accent-gold rounded-full"})})]}),(0,a.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-2 mb-4",children:[1,2,3,4,5,6,7].map(e=>{var r;let i=o(e),n=null===(r=t.find(t=>t.day===e))||void 0===r?void 0:r.is_claimed,d=s>=e&&!n,x=s<e;return(0,a.jsx)(l.E.button,{whileHover:{scale:x?1:1.05},whileTap:{scale:.95},onClick:()=>!x&&c(e),disabled:x,className:"relative p-3 rounded-xl border-2 transition-all ".concat(x?"bg-dark-tertiary/50 border-dark-tertiary opacity-50":n?"bg-green-500/20 border-green-500":d?"bg-gradient-to-br ".concat(i.rarity?m(i.rarity):"from-accent-primary to-purple-500"," border-transparent"):"bg-dark-tertiary border-dark-tertiary"),children:x?(0,a.jsx)(en.Z,{className:"w-5 h-5 text-text-muted mx-auto"}):n?(0,a.jsx)(z.Z,{className:"w-5 h-5 text-green-400 mx-auto"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"block text-xs text-text-muted mb-1",children:["Day ",e]}),(0,a.jsx)("span",{className:"block text-lg",children:"epic"===i.rarity?"\uD83C\uDF81":"rare"===i.rarity?"\uD83D\uDCE6":"\uD83D\uDCB0"}),(0,a.jsx)("span",{className:"block text-xs text-accent-gold",children:i.coins})]})},e)})}),(()=>{let e=t.find(e=>e.day<=s&&!e.is_claimed);return e?(0,a.jsxs)(V,{className:"w-full",onClick:()=>i(e.day),children:[(0,a.jsx)(ei.Z,{className:"w-4 h-4 mr-2"}),"Claim Today's Reward"]}):null})(),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(ec.Z,{className:"w-4 h-4 text-accent-primary"}),(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"Bonus on Day 7!"})]}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Complete 7 days in a row to unlock the epic reward chest!"})]}),(0,a.jsx)(w.M,{children:n&&(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:()=>c(null),children:(0,a.jsxs)(l.E.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"bg-dark-secondary p-6 rounded-2xl max-w-sm mx-4 text-center",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)(l.E.div,{animate:{rotate:[0,10,-10,0]},transition:{repeat:1/0,duration:2},className:"text-6xl mb-4",children:"\uD83C\uDF81"}),(0,a.jsxs)("h3",{className:"text-xl font-bold text-text-primary mb-2",children:["Day ",n," Reward"]}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 text-accent-gold"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-accent-gold",children:o(n).coins})]}),(0,a.jsxs)(R,{variant:"epic"===o(n).rarity?"medium":"default",children:[o(n).rarity," Box"]}),(0,a.jsx)(V,{className:"w-full mt-4",onClick:()=>{i(n),c(null)},children:"Open Reward"})]})})})]})}var eo=s(525);function ex(e){let{stats:t,weeklyData:s}=e,[n,d]=(0,r.useState)("week"),o=Math.max(...s.map(e=>e.tasks),1),m=Math.max(...s.map(e=>e.hours),1);return(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.Z,{className:"w-5 h-5 text-accent-primary"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Productivity"})]}),(0,a.jsx)("div",{className:"flex gap-1",children:["week","month","year"].map(e=>(0,a.jsx)(l.E.button,{whileTap:{scale:.95},onClick:()=>d(e),className:"px-3 py-1 rounded-lg text-xs capitalize ".concat(n===e?"bg-accent-primary text-white":"bg-dark-tertiary text-text-secondary"),children:e},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(z.Z,{className:"w-4 h-4 text-green-400"}),(0,a.jsx)("span",{className:"text-xs text-text-muted",children:"Tasks"})]}),(0,a.jsx)("p",{className:"text-xl font-bold text-text-primary",children:t.total_tasks_completed})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(I.Z,{className:"w-4 h-4 text-blue-400"}),(0,a.jsx)("span",{className:"text-xs text-text-muted",children:"Focus Time"})]}),(0,a.jsxs)("p",{className:"text-xl font-bold text-text-primary",children:[Math.floor(t.total_time_seconds/3600),"h"]})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 text-orange-400"}),(0,a.jsx)("span",{className:"text-xs text-text-muted",children:"Best Streak"})]}),(0,a.jsxs)("p",{className:"text-xl font-bold text-text-primary",children:[t.best_streak," days"]})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(eo.Z,{className:"w-4 h-4 text-purple-400"}),(0,a.jsx)("span",{className:"text-xs text-text-muted",children:"Level"})]}),(0,a.jsx)("p",{className:"text-xl font-bold text-text-primary",children:t.level})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-sm text-text-secondary mb-2",children:"Tasks This Week"}),(0,a.jsx)("div",{className:"flex items-end justify-between gap-2 h-24",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,a.jsx)(l.E.div,{initial:{height:0},animate:{height:"".concat(e.tasks/o*100,"%")},transition:{delay:.1*t},className:"w-full bg-accent-primary rounded-t-lg min-h-[4px]"}),(0,a.jsx)("span",{className:"text-xs text-text-muted mt-1",children:e.day}),(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:e.tasks})]},e.day))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-sm text-text-secondary mb-2",children:"Focus Hours"}),(0,a.jsx)("div",{className:"flex items-end justify-between gap-2 h-24",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,a.jsx)(l.E.div,{initial:{height:0},animate:{height:"".concat(e.hours/m*100,"%")},transition:{delay:.1*t+.2},className:"w-full bg-accent-gold rounded-t-lg min-h-[4px]"}),(0,a.jsx)("span",{className:"text-xs text-text-muted mt-1",children:e.day}),(0,a.jsxs)("span",{className:"text-xs text-accent-gold",children:[e.hours,"h"]})]},e.day))})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsx)("h4",{className:"text-sm text-text-secondary mb-2",children:"Peak Productivity Hours"}),(0,a.jsx)("div",{className:"space-y-2",children:[{hour:"9 AM",tasks:8,color:"bg-green-500"},{hour:"2 PM",tasks:6,color:"bg-blue-500"},{hour:"8 PM",tasks:5,color:"bg-purple-500"}].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-text-muted w-16",children:e.hour}),(0,a.jsx)("div",{className:"flex-1 h-2 bg-dark-secondary rounded-full overflow-hidden",children:(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(e.tasks/10*100,"%")},transition:{delay:.2*t},className:"h-full ".concat(e.color," rounded-full")})}),(0,a.jsxs)("span",{className:"text-xs text-text-secondary",children:[e.tasks," tasks"]})]},e.hour))})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-accent-primary/10 rounded-xl border border-accent-primary/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary",children:"Weekly Summary"}),(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:[s.reduce((e,t)=>e+t.tasks,0)," tasks completed"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-lg font-bold text-accent-primary",children:[s.reduce((e,t)=>e+t.hours,0),"h"]}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"total focus time"})]})]})})]})}var em=s(6595);function eu(e){let{badges:t,onClaim:s}=e,i=t.filter(e=>e.isUnlocked).length,n=t.length,[c,d]=(0,r.useState)("all"),m="all"===c?t:t.filter(e=>e.requirement.toLowerCase().includes(c)),u=e=>e.xpReward>=500?"from-orange-500 to-red-500":e.xpReward>=300?"from-purple-500 to-pink-500":e.xpReward>=150?"from-blue-500 to-cyan-500":"from-gray-500 to-slate-500";return(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-accent-gold"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Collection Badges"})]}),(0,a.jsxs)(R,{variant:"warning",children:[i,"/",n]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"Collection Progress"}),(0,a.jsxs)("span",{className:"text-text-primary",children:[Math.round(i/n*100),"%"]})]}),(0,a.jsx)("div",{className:"h-3 bg-dark-tertiary rounded-full overflow-hidden",children:(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(i/n*100,"%")},className:"h-full bg-gradient-to-r from-accent-gold to-yellow-400 rounded-full"})})]}),(0,a.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 mb-4",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.95},onClick:()=>d("all"),className:"px-4 py-2 rounded-lg text-sm whitespace-nowrap ".concat("all"===c?"bg-accent-primary text-white":"bg-dark-tertiary text-text-secondary"),children:"All"}),[{id:"tasks",label:"Tasks",icon:"✅"},{id:"streaks",label:"Streaks",icon:"\uD83D\uDD25"},{id:"collection",label:"Collection",icon:"\uD83C\uDFC6"},{id:"special",label:"Special",icon:"⭐"}].map(e=>(0,a.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:()=>d(e.id),className:"px-4 py-2 rounded-lg text-sm whitespace-nowrap ".concat(c===e.id?"bg-accent-primary text-white":"bg-dark-tertiary text-text-secondary"),children:[e.icon," ",e.label]},e.id))]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:m.map((e,t)=>(0,a.jsx)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*t},className:"relative p-4 rounded-xl border-2 ".concat(e.isUnlocked?"bg-gradient-to-br ".concat(u(e)," border-transparent"):"bg-dark-tertiary border-dark-tertiary"),children:e.isUnlocked?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-4xl block mb-2",children:e.icon}),(0,a.jsx)("h4",{className:"font-medium text-white",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-white/80 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,a.jsx)(em.Z,{className:"w-3 h-3 text-yellow-300"}),(0,a.jsxs)("span",{className:"text-xs text-yellow-300",children:["+",e.xpReward," XP"]})]}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)(et.Z,{className:"w-4 h-4 text-white"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"opacity-30",children:[(0,a.jsx)("span",{className:"text-4xl block mb-2 grayscale",children:e.icon}),(0,a.jsx)("h4",{className:"font-medium text-text-muted",children:e.name})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"bg-black/50 rounded-full p-2",children:(0,a.jsx)(en.Z,{className:"w-5 h-5 text-text-muted"})})}),(0,a.jsx)("p",{className:"text-xs text-text-muted mt-2",children:e.requirement})]})},e.id))}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-dark-tertiary grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl font-bold text-accent-gold",children:t.filter(e=>e.isUnlocked).reduce((e,t)=>e+t.xpReward,0)}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"XP Earned"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl font-bold text-green-400",children:i}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Badges"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl font-bold text-accent-primary",children:n-i}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Remaining"})]})]})]})}var eh=s(2735),ep=s(7342),eg=s(1649);function ej(e){let{tasks:t,profile:s}=e,[i,n]=(0,r.useState)(!1),[c,d]=(0,r.useState)("json"),[o,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),p=async()=>{let e,a,r;switch(m(!0),await new Promise(e=>setTimeout(e,1e3)),c){case"json":e=JSON.stringify({exportDate:new Date().toISOString(),user:{id:s.id,name:s.display_name,email:s.email},tasks:t.map(e=>{var t;return{id:e.id,title:e.title,description:e.description,status:e.status,priority:e.priority,dueDate:e.due_date,tallyCount:e.tally_count,pomodoroCount:e.pomodoro_count,totalTimeSeconds:e.total_time_seconds,createdAt:e.created_at,updatedAt:e.updated_at,tags:(null===(t=e.tags)||void 0===t?void 0:t.map(e=>e.name))||[]}})},null,2),a="tasktask-backup-".concat(new Date().toISOString().split("T")[0],".json"),r="application/json";break;case"csv":e=["ID,Title,Description,Status,Priority,Due Date,Tally,Pomodoro,Time (s),Created At",...t.map(e=>[e.id,'"'.concat(e.title,'"'),'"'.concat(e.description||"",'"'),e.status,e.priority,e.due_date||"",e.tally_count,e.pomodoro_count,e.total_time_seconds,e.created_at]).map(e=>e.join(","))].join("\n"),a="tasktask-tasks-".concat(new Date().toISOString().split("T")[0],".csv"),r="text/csv";break;case"ical":let l="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//TaskTask//EN\n";t.filter(e=>e.due_date).forEach(e=>{var t,s;l+="BEGIN:VEVENT\n"+"UID:".concat(e.id,"\n")+"DTSTAMP:".concat(new Date().toISOString().replace(/[-:]/g,"").split(".")[0],"Z\n")+"SUMMARY:".concat(e.title,"\n")+"DESCRIPTION:".concat(e.description||"","\n")+"DTSTART:".concat(null===(t=e.due_date)||void 0===t?void 0:t.replace(/[-:]/g,"").slice(0,8),"\n")+"DTEND:".concat(null===(s=e.due_date)||void 0===s?void 0:s.replace(/[-:]/g,"").slice(0,8),"\n")+"END:VEVENT\n"}),l+="END:VCALENDAR",e=l,a="tasktask-calendar-".concat(new Date().toISOString().split("T")[0],".ics"),r="text/calendar"}let i=new Blob([e],{type:r}),n=URL.createObjectURL(i),d=document.createElement("a");d.href=n,d.download=a,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(n),m(!1),h(!0),setTimeout(()=>h(!1),2e3)},g={json:"".concat(t.length," tasks"),csv:"".concat(t.length," tasks"),ical:"".concat(t.filter(e=>e.due_date).length," events")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(eh.Z,{className:"w-5 h-5 text-accent-primary"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Export & Backup"})]}),(0,a.jsxs)(R,{variant:"default",children:[t.length," items"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[(0,a.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:()=>{d("json"),n(!0)},className:"p-4 bg-dark-tertiary rounded-xl text-center hover:bg-opacity-80",children:[(0,a.jsx)(ep.Z,{className:"w-8 h-8 text-blue-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary",children:"JSON"}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Full backup"})]}),(0,a.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:()=>{d("csv"),n(!0)},className:"p-4 bg-dark-tertiary rounded-xl text-center hover:bg-opacity-80",children:[(0,a.jsx)(eg.Z,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary",children:"CSV"}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Spreadsheet"})]}),(0,a.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:()=>{d("ical"),n(!0)},className:"p-4 bg-dark-tertiary rounded-xl text-center hover:bg-opacity-80",children:[(0,a.jsx)(P.Z,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary",children:"iCal"}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Calendar"})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"\uD83D\uDCBE Auto Backup"}),(0,a.jsx)(R,{variant:"success",children:"Active"})]}),(0,a.jsxs)("div",{className:"space-y-1 text-xs text-text-muted",children:[(0,a.jsx)("p",{children:"• Daily: Incremental backup"}),(0,a.jsx)("p",{children:"• Weekly: Full backup (Sunday)"}),(0,a.jsx)("p",{children:"• Monthly: Archive (1st of month)"})]})]}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-dark-tertiary",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-text-muted",children:"Last export: Never"}),(0,a.jsx)(V,{variant:"ghost",size:"sm",onClick:()=>n(!0),children:"Export Now"})]})})]}),(0,a.jsx)(q,{isOpen:i,onClose:()=>n(!1),title:"Export Data",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:["json"===c&&(0,a.jsx)(ep.Z,{className:"w-8 h-8 text-blue-400"}),"csv"===c&&(0,a.jsx)(eg.Z,{className:"w-8 h-8 text-green-400"}),"ical"===c&&(0,a.jsx)(P.Z,{className:"w-8 h-8 text-orange-400"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium text-text-primary",children:["json"===c&&"JSON Format","csv"===c&&"CSV Format","ical"===c&&"iCal Format"]}),(0,a.jsx)("p",{className:"text-sm text-text-muted",children:g[c]})]})]}),(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:["json"===c&&"Complete backup including all task data, tags, and timestamps.","csv"===c&&"Spreadsheet-compatible format for Excel, Google Sheets.","ical"===c&&"Calendar events for Google Calendar, Apple Calendar, Outlook."]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:["json","csv","ical"].map(e=>(0,a.jsx)(V,{variant:c===e?"primary":"ghost",size:"sm",onClick:()=>d(e),className:"flex-1",children:e.toUpperCase()},e))}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(V,{variant:"ghost",onClick:()=>n(!1),className:"flex-1",children:"Cancel"}),(0,a.jsx)(V,{onClick:p,disabled:o,className:"flex-1",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.E.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2 inline-block"}),"Exporting..."]}):u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(et.Z,{className:"w-4 h-4 mr-2 inline-block"}),"Exported!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eh.Z,{className:"w-4 h-4 mr-2 inline-block"}),"Export"]})})]})]})})]})}var ey=s(1341),eb=s(6372),eN=s(2926),ef=s(5395),ev=s(3639),ew=s(7168);function ek(e){let{isOnline:t,pendingChanges:s,lastSyncTime:i,onSync:n,onClearCache:c}=e,[d,o]=(0,r.useState)(t),[m,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)("idle");(0,r.useEffect)(()=>{o(t)},[t]);let g=async()=>{if(d&&!m){u(!0),p("syncing");try{await n(),p("success"),setTimeout(()=>p("idle"),2e3)}catch(e){p("error"),setTimeout(()=>p("idle"),2e3)}finally{u(!1)}}};return(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[d?(0,a.jsx)(ey.Z,{className:"w-5 h-5 text-green-400"}):(0,a.jsx)(eb.Z,{className:"w-5 h-5 text-red-400"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Sync Status"})]}),(0,a.jsx)(R,{variant:d?"success":"danger",children:d?"Online":"Offline"})]}),(0,a.jsx)("div",{className:"p-4 rounded-xl mb-4 ".concat(d?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[d?(0,a.jsx)(eN.Z,{className:"w-8 h-8 text-green-400"}):(0,a.jsx)(ef.Z,{className:"w-8 h-8 text-red-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-text-primary",children:d?"Connected":"No Internet Connection"}),(0,a.jsx)("p",{className:"text-sm text-text-muted",children:d?"Your data is syncing automatically":"Changes will sync when online"})]})]})}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"Last Sync"}),(0,a.jsx)("span",{className:"text-sm text-text-muted",children:i?i.toLocaleTimeString():"Never"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"Pending Changes"}),(0,a.jsxs)(R,{variant:s>0?"warning":"default",children:[s," items"]})]})]}),(0,a.jsx)(w.M,{children:s>0&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(ev.Z,{className:"w-4 h-4 text-yellow-400"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-text-primary",children:[s," pending changes"]})]}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"These changes will be synced when you're back online."})]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(V,{onClick:g,disabled:!d||m,className:"w-full",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.E.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1},className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2 inline-block"}),"Syncing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ew.Z,{className:"w-4 h-4 mr-2 inline-block"}),"Sync Now"]})}),"success"===h&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-center gap-2 text-green-400",children:[(0,a.jsx)(z.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Sync completed!"})]}),"error"===h&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-center gap-2 text-red-400",children:[(0,a.jsx)(ev.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"Sync failed. Try again."})]})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-dark-tertiary",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-text-primary mb-2",children:"\uD83D\uDCF4 Offline Mode"}),(0,a.jsxs)("div",{className:"space-y-2 text-xs text-text-muted",children:[(0,a.jsx)("p",{children:"• View cached tasks"}),(0,a.jsx)("p",{children:"• Create new tasks (sync later)"}),(0,a.jsx)("p",{children:"• Complete tasks offline"}),(0,a.jsx)("p",{children:"• Timer continues in background"})]})]})]})}var e_=s(8617),eD=s(5868),eC=s(2208),eT=s(7806);function eS(e){let{teamName:t,members:s,tasks:i,currentUserId:c,onInviteMember:d,onAssignTask:m,onCreateTask:h}=e,[p,g]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),[b,N]=(0,r.useState)(""),[v,w]=(0,r.useState)(""),[k,_]=(0,r.useState)([]);s.find(e=>e.id===c);let D=s.reduce((e,t)=>e+t.xp,0),C=e=>{switch(e){case"admin":return(0,a.jsx)(e_.Z,{className:"w-4 h-4 text-yellow-400"});case"editor":return(0,a.jsx)(eD.Z,{className:"w-4 h-4 text-blue-400"});case"viewer":return(0,a.jsx)(eC.Z,{className:"w-4 h-4 text-gray-400"});default:return null}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5 text-accent-primary"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:t})]}),(0,a.jsxs)(R,{variant:"success",children:[(0,a.jsx)(n.Z,{className:"w-3 h-3 mr-1"}),s.length," members"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl text-center",children:[(0,a.jsx)("p",{className:"text-xl font-bold text-accent-primary",children:D.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Team XP"})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl text-center",children:[(0,a.jsx)("p",{className:"text-xl font-bold text-green-400",children:s.reduce((e,t)=>e+t.tasksCompleted,0)}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Tasks Done"})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl text-center",children:[(0,a.jsx)("p",{className:"text-xl font-bold text-yellow-400",children:s.filter(e=>e.isOnline).length}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Online"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"\uD83D\uDC65 Members"}),(0,a.jsxs)(V,{variant:"ghost",size:"sm",onClick:()=>g(!0),children:[(0,a.jsx)(eT.Z,{className:"w-4 h-4"}),"Invite"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center gap-3 p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u,{name:e.name,size:"sm"}),e.isOnline&&(0,a.jsx)("span",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-dark-secondary"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-text-primary",children:e.name}),C(e.role)]}),(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:[e.xp.toLocaleString()," XP • ",e.tasksCompleted," tasks"]})]}),(0,a.jsx)(o.Z,{className:"w-4 h-4 text-accent-gold"})]},e.id))})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"\uD83D\uDCCB Team Tasks"}),(0,a.jsxs)(V,{variant:"ghost",size:"sm",onClick:()=>y(!0),children:[(0,a.jsx)(f.Z,{className:"w-4 h-4"}),"Create"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:i.map(e=>(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-text-primary",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(R,{variant:"completed"===e.status?"success":"in_progress"===e.status?"warning":"default",children:e.status}),(0,a.jsxs)("span",{className:"text-xs text-text-muted",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]}),(0,a.jsxs)("div",{className:"flex -space-x-2",children:[e.assignedTo.slice(0,3).map(e=>{let t=s.find(t=>t.id===e);return t?(0,a.jsx)(u,{name:t.name,size:"sm"},e):null}),e.assignedTo.length>3&&(0,a.jsxs)("div",{className:"w-8 h-8 rounded-full bg-dark-secondary flex items-center justify-center text-xs text-text-muted",children:["+",e.assignedTo.length-3]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"p-3 bg-dark-tertiary rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"\uD83D\uDCAC Team Chat"}),(0,a.jsx)(R,{variant:"default",children:"3 unread"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-accent-primary font-medium",children:"John:"}),(0,a.jsx)("span",{className:"text-text-secondary",children:"Task updated!"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-green-400 font-medium",children:"Sarah:"}),(0,a.jsx)("span",{className:"text-text-secondary",children:"Great work team! \uD83C\uDF89"})]})]}),(0,a.jsx)(V,{variant:"ghost",size:"sm",className:"w-full mt-2",children:"Open Chat"})]})]}),(0,a.jsx)(q,{isOpen:p,onClose:()=>g(!1),title:"Invite Team Member",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",value:b,onChange:e=>N(e.target.value),placeholder:"colleague@company.com",className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary placeholder-text-muted"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(V,{variant:"ghost",onClick:()=>g(!1),className:"flex-1",children:"Cancel"}),(0,a.jsxs)(V,{onClick:()=>{b.trim()&&(d(b),N(""),g(!1))},className:"flex-1",children:[(0,a.jsx)(eT.Z,{className:"w-4 h-4 mr-2"}),"Send Invite"]})]})]})}),(0,a.jsx)(q,{isOpen:j,onClose:()=>y(!1),title:"Create Team Task",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Task Title"}),(0,a.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),placeholder:"e.g., Q1 Planning",className:"w-full px-4 py-2 bg-dark-tertiary rounded-lg text-text-primary placeholder-text-muted"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-text-secondary mb-2",children:"Assign To"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>(0,a.jsx)(l.E.button,{whileTap:{scale:.95},onClick:()=>{_(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id])},className:"px-3 py-1 rounded-full text-sm ".concat(k.includes(e.id)?"bg-accent-primary text-white":"bg-dark-tertiary text-text-secondary"),children:e.name},e.id))})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(V,{variant:"ghost",onClick:()=>y(!1),className:"flex-1",children:"Cancel"}),(0,a.jsxs)(V,{onClick:()=>{v.trim()&&(h({title:v,assignedTo:k,status:"pending",dueDate:new Date(Date.now()+6048e5).toISOString()}),w(""),_([]),y(!1))},className:"flex-1",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"Create Task"]})]})]})})]})}var eE=s(8553);function eM(e){let{petName:t,currentHunger:s,userCoins:i,onFeed:n}=e,[c,d]=(0,r.useState)(!1),o=[{id:"1",name:"Kibble",icon:"\uD83C\uDF56",price_coins:10,hunger_restore:20,happiness_bonus:5,xp_bonus:5},{id:"2",name:"Fish",icon:"\uD83D\uDC1F",price_coins:25,hunger_restore:40,happiness_bonus:10,xp_bonus:10},{id:"3",name:"Treat",icon:"\uD83C\uDF6A",price_coins:15,hunger_restore:15,happiness_bonus:15,xp_bonus:8},{id:"4",name:"Premium Meal",icon:"\uD83C\uDF72",price_coins:50,hunger_restore:60,happiness_bonus:20,xp_bonus:20},{id:"5",name:"Golden Bone",icon:"\uD83E\uDDB4",price_coins:100,hunger_restore:80,happiness_bonus:30,xp_bonus:50},{id:"6",name:"Magic Fish",icon:"✨",price_coins:200,hunger_restore:100,happiness_bonus:50,xp_bonus:100}],m=s>=80?{label:"Full",variant:"success"}:s>=50?{label:"Good",variant:"warning"}:s>=30?{label:"Hungry",variant:"medium"}:{label:"Very Hungry!",variant:"danger"};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-text-primary",children:["Feed ",t]}),(0,a.jsx)(R,{variant:m.variant,children:m.label})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"Hunger"}),(0,a.jsxs)("span",{className:"text-text-primary",children:[s,"%"]})]}),(0,a.jsx)("div",{className:"h-3 bg-dark-tertiary rounded-full overflow-hidden",children:(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(s,"%")},transition:{duration:.5},className:"h-full rounded-full ".concat(s>=80?"bg-green-500":s>=50?"bg-yellow-500":s>=30?"bg-orange-500":"bg-red-500")})})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-4",children:o.slice(0,3).map(e=>(0,a.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:()=>n(e),disabled:i<e.price_coins,className:"p-3 rounded-xl text-center transition-all ".concat(i>=e.price_coins?"bg-dark-tertiary hover:bg-opacity-80":"opacity-50 cursor-not-allowed"),children:[(0,a.jsx)("span",{className:"text-2xl block mb-1",children:e.icon}),(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-accent-gold block mt-1",children:[e.price_coins," coins"]})]},e.id))}),(0,a.jsxs)(V,{variant:"secondary",className:"w-full",onClick:()=>d(!0),children:[(0,a.jsx)(eE.Z,{className:"w-4 h-4 mr-2"}),"View All Foods"]})]}),(0,a.jsx)(q,{isOpen:c,onClose:()=>d(!1),title:"Pet Foods",size:"lg",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:o.map(e=>(0,a.jsxs)(l.E.div,{whileHover:{scale:1.02},className:"p-4 rounded-xl border ".concat(i>=e.price_coins?"bg-dark-tertiary border-dark-tertiary":"bg-dark-tertiary/50 border-dark-tertiary/50 opacity-50"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,a.jsx)("span",{className:"text-3xl",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-text-primary",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:[e.hunger_restore," hunger"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-accent-gold",children:[e.price_coins," coins"]}),(0,a.jsx)(V,{size:"sm",disabled:i<e.price_coins,onClick:()=>{n(e),d(!1)},children:"Feed"})]})]},e.id))})})]})}function eZ(e){let{petName:t,petType:s,currentLevel:i,currentXP:n,evolutionStage:c,feedCount:d,playCount:u,onEvolve:h}=e,[p,g]=(0,r.useState)(!1),[j,y]=(0,r.useState)(0),b=[{stage:1,name:"Baby",minLevel:1,minXP:0,minFeed:0,minPlay:0,emoji:"\uD83D\uDC23"},{stage:2,name:"Teen",minLevel:6,minXP:500,minFeed:20,minPlay:15,emoji:"\uD83D\uDC25"},{stage:3,name:"Adult",minLevel:16,minXP:2e3,minFeed:50,minPlay:40,emoji:"\uD83D\uDC13"},{stage:4,name:"Elder",minLevel:31,minXP:5e3,minFeed:100,minPlay:80,emoji:"\uD83E\uDD85"}],N=b[c-1],f=b[c];(0,r.useEffect)(()=>{if(!f){y(100);return}let e=Math.min(100,(i-N.minLevel)/(f.minLevel-N.minLevel)*100),t=Math.min(100,n/f.minXP*100);y((e+t+Math.min(100,d/f.minFeed*100)+Math.min(100,u/f.minPlay*100))/4)},[i,n,d,u,c,N.minLevel,f]);let v=c<4&&j>=100,k=e=>["\uD83D\uDC23","\uD83D\uDC25","\uD83D\uDC13","\uD83E\uDD85"][Math.min(e-1,3)];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary",children:"Pet Evolution"}),(0,a.jsxs)(R,{variant:v?"success":"default",children:[N.name," Stage"]})]}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)(l.E.div,{animate:{y:[0,-10,0],scale:v?[1,1.1,1]:1},transition:{repeat:v?1/0:0,duration:2},className:"text-8xl mx-auto mb-2",children:k(c)}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:t}),(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:["Level ",i]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,a.jsx)("span",{className:"text-text-secondary",children:"Evolution Progress"}),(0,a.jsxs)("span",{className:"text-text-primary",children:[Math.round(j),"%"]})]}),(0,a.jsx)(m,{value:j,color:v?"success":"primary",showLabel:!1})]}),f?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-xs text-text-muted",children:["Next: ",f.name," ",f.emoji]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"p-2 rounded-lg ".concat(i>=f.minLevel?"bg-green-500/20 text-green-400":"bg-dark-tertiary text-text-muted"),children:["Level ",f.minLevel,"+ ",i>=f.minLevel?"✓":""]}),(0,a.jsxs)("div",{className:"p-2 rounded-lg ".concat(n>=f.minXP?"bg-green-500/20 text-green-400":"bg-dark-tertiary text-text-muted"),children:[f.minXP," XP ",n>=f.minXP?"✓":""]}),(0,a.jsxs)("div",{className:"p-2 rounded-lg ".concat(d>=f.minFeed?"bg-green-500/20 text-green-400":"bg-dark-tertiary text-text-muted"),children:[f.minFeed," feeds ",d>=f.minFeed?"✓":""]}),(0,a.jsxs)("div",{className:"p-2 rounded-lg ".concat(u>=f.minPlay?"bg-green-500/20 text-green-400":"bg-dark-tertiary text-text-muted"),children:[f.minPlay," plays ",u>=f.minPlay?"✓":""]})]})]}):(0,a.jsxs)("div",{className:"text-center p-4 bg-accent-gold/10 rounded-xl",children:[(0,a.jsx)(o.Z,{className:"w-8 h-8 text-accent-gold mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm font-medium text-accent-gold",children:"Maximum Evolution Reached!"}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Your pet is at its final form"})]}),v&&(0,a.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:()=>{g(!0),y(0),setTimeout(()=>{y(50)},500),setTimeout(()=>{y(100)},1500),setTimeout(()=>{h(),g(!1)},2500)},className:"w-full mt-4 py-3 bg-gradient-to-r from-accent-primary to-purple-500 rounded-xl text-white font-medium flex items-center justify-center gap-2",children:[(0,a.jsx)(ec.Z,{className:"w-5 h-5"}),"Evolve Now!"]})]}),(0,a.jsx)(w.M,{children:p&&(0,a.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center",children:(0,a.jsxs)(l.E.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"text-center",children:[(0,a.jsx)(l.E.div,{animate:{scale:[1,1.5,0],rotate:[0,180,360]},transition:{duration:2,repeat:0},className:"text-9xl mb-4",children:k(c)}),(0,a.jsx)(l.E.div,{animate:{opacity:[0,1,0]},transition:{duration:.5,repeat:3},className:"text-2xl font-bold text-accent-gold",children:"✨ Evolving... ✨"}),(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"200px"},transition:{duration:1,delay:.5},className:"h-2 bg-accent-primary rounded-full mx-auto mt-4"}),(0,a.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2},className:"mt-4",children:[(0,a.jsxs)("p",{className:"text-xl font-bold text-text-primary",children:[k(c+1)," ",null==f?void 0:f.name,"!"]}),(0,a.jsx)("p",{className:"text-sm text-text-muted mt-2",children:"+50 XP Bonus!"})]})]})})})]})}var eP=s(875),eF=s(2135);let eI=(0,C.Ue)(e=>({tasks:[],currentTask:null,viewType:"main",filters:{status:"all",priority:"all",tag:null},isLoading:!1,setTasks:t=>e({tasks:t}),addTask:t=>e(e=>({tasks:[...e.tasks,t]})),updateTask:(t,s)=>e(e=>{var a;return{tasks:e.tasks.map(e=>e.id===t?{...e,...s}:e),currentTask:(null===(a=e.currentTask)||void 0===a?void 0:a.id)===t?{...e.currentTask,...s}:e.currentTask}}),deleteTask:t=>e(e=>{var s;return{tasks:e.tasks.filter(e=>e.id!==t),currentTask:(null===(s=e.currentTask)||void 0===s?void 0:s.id)===t?null:e.currentTask}}),setCurrentTask:t=>e({currentTask:t}),setViewType:t=>e({viewType:t}),setFilters:t=>e({filters:t}),setLoading:t=>e({isLoading:t}),startTimer:t=>e(e=>{var s;let a=e.tasks.find(e=>e.id===t);return a&&H.setState({activeTaskId:a.id,elapsedSeconds:a.total_time_seconds,isRunning:!0,lastTick:Date.now()}),{tasks:e.tasks.map(e=>e.id===t?{...e,timer_status:"running",timer_started_at:new Date().toISOString(),timer_paused_at:null,accumulated_time_seconds:e.total_time_seconds}:{...e,timer_status:"idle"}),currentTask:(null===(s=e.currentTask)||void 0===s?void 0:s.id)===t?{...e.currentTask,timer_status:"running",timer_started_at:new Date().toISOString(),timer_paused_at:null,accumulated_time_seconds:e.currentTask.total_time_seconds}:e.currentTask}}),pauseTimer:t=>e(e=>{var s;return H.setState({isRunning:!1}),{tasks:e.tasks.map(e=>e.id===t&&"running"===e.timer_status?{...e,timer_status:"paused",timer_paused_at:new Date().toISOString(),total_time_seconds:e.accumulated_time_seconds}:e),currentTask:(null===(s=e.currentTask)||void 0===s?void 0:s.id)===t&&"running"===e.currentTask.timer_status?{...e.currentTask,timer_status:"paused",timer_paused_at:new Date().toISOString(),total_time_seconds:e.currentTask.accumulated_time_seconds}:e.currentTask}}),resumeTimer:t=>e(e=>{var s;return H.setState({isRunning:!0,lastTick:Date.now()}),{tasks:e.tasks.map(e=>e.id===t&&"paused"===e.timer_status?{...e,timer_status:"running",timer_started_at:new Date().toISOString(),timer_paused_at:null,accumulated_time_seconds:e.total_time_seconds}:e),currentTask:(null===(s=e.currentTask)||void 0===s?void 0:s.id)===t&&"paused"===e.currentTask.timer_status?{...e.currentTask,timer_status:"running",timer_started_at:new Date().toISOString(),timer_paused_at:null,accumulated_time_seconds:e.currentTask.total_time_seconds}:e.currentTask}}),stopTimer:t=>e(e=>{var s;return H.setState({activeTaskId:null,elapsedSeconds:0,isRunning:!1,lastTick:null}),{tasks:e.tasks.map(e=>e.id===t&&("running"===e.timer_status||"paused"===e.timer_status)?{...e,timer_status:"idle",timer_started_at:null,timer_paused_at:null,total_time_seconds:e.accumulated_time_seconds}:{...e,timer_status:"idle"}),currentTask:(null===(s=e.currentTask)||void 0===s?void 0:s.id)===t?{...e.currentTask,timer_status:"idle",timer_started_at:null,timer_paused_at:null,total_time_seconds:e.currentTask.accumulated_time_seconds}:e.currentTask}}),updateTimerTime:(t,s)=>e(e=>{var a;return{tasks:e.tasks.map(e=>e.id===t?{...e,accumulated_time_seconds:s}:e),currentTask:(null===(a=e.currentTask)||void 0===a?void 0:a.id)===t?{...e.currentTask,accumulated_time_seconds:s}:e.currentTask}})})),eO=(0,C.Ue)((e,t)=>({profile:null,isAuthenticated:!1,setProfile:t=>e({profile:t,isAuthenticated:!!t}),updateProfile:t=>e(e=>({profile:e.profile?{...e.profile,...t}:null})),addCoins:t=>e(e=>({profile:e.profile?{...e.profile,coins:e.profile.coins+t}:null})),addXp:t=>e(e=>{if(!e.profile)return{profile:null};let s=e.profile.xp+t;return{profile:{...e.profile,xp:s,level:Math.floor(s/100)+1}}}),logout:()=>e({profile:null,isAuthenticated:!1})}));function eL(){let{tasks:e,startTimer:t,pauseTimer:s,resumeTimer:i,stopTimer:n}=eI(),{activeTaskId:c,isRunning:d}=H(),{profile:o}=eO(),[x,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)("00:00:00"),[p,g]=(0,r.useState)(!1),j=(0,r.useRef)(null),y=c?e.find(e=>e.id===c):null;if((0,r.useEffect)(()=>{if(c&&(null==y?void 0:y.timer_status)==="running"&&y.timer_started_at){j.current||(j.current=y.timer_started_at);let e=()=>{h(B(y.total_time_seconds+(Date.now()-new Date(y.timer_started_at).getTime())/1e3))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)}y&&h(B(y.total_time_seconds))},[c,y]),!y)return null;let b=async()=>{if(!p){g(!0);try{let e=j.current,t=new Date().toISOString();if(e){let s=new Date(e).getTime(),a=new Date(t).getTime(),r=Math.round((a-s)/1e3);if(r>=10){let s=Math.round(r/60);await fetch("/api/timer/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task_id:y.id,user_id:(null==o?void 0:o.id)||"demo",start_time:e,end_time:t,duration_seconds:r,session_type:"manual",xp_earned:s,coins_earned:Math.round(.5*s),status:"completed"})})}}}catch(e){console.error("Failed to save session:",e)}finally{j.current=null,n(y.id),g(!1)}}};return(0,a.jsxs)(l.E.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"fixed bottom-0 left-0 right-0 z-50",children:[(0,a.jsxs)("button",{onClick:()=>m(!x),className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-4 py-1 rounded-t-lg text-xs flex items-center gap-1",children:[(0,a.jsxs)("span",{children:["\uD83D\uDCCC ",y.title.slice(0,15),"..."]}),x?(0,a.jsx)(eP.Z,{className:"w-3 h-3"}):(0,a.jsx)(eF.Z,{className:"w-3 h-3"})]}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-700 to-blue-900 text-white px-4 py-3 shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0 mr-3",children:[(0,a.jsx)("p",{className:"text-xs text-blue-200 truncate",children:"Working on"}),(0,a.jsx)("p",{className:"font-medium text-sm truncate",children:y.title})]}),(0,a.jsx)("div",{className:"font-mono text-xl font-bold tabular-nums",children:u}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>{"running"===y.timer_status?s(y.id):"paused"===y.timer_status&&i(y.id)},className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",children:"running"===y.timer_status?(0,a.jsx)(A.Z,{className:"w-5 h-5"}):(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:b,className:"p-2 bg-red-500/80 rounded-full hover:bg-red-500 transition-colors",children:(0,a.jsx)(Q.Z,{className:"w-4 h-4 fill-current"})})]})]})}),(0,a.jsx)(w.M,{children:x&&(0,a.jsx)(l.E.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"bg-blue-900/95 backdrop-blur text-white px-4 py-4 border-t border-blue-600",children:(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 text-xs",children:"Total Time"}),(0,a.jsx)("p",{className:"font-mono",children:B(y.total_time_seconds)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 text-xs",children:"Estimated"}),(0,a.jsx)("p",{className:"font-mono",children:y.estimated_time_seconds?B(y.estimated_time_seconds):"--"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 text-xs",children:"Progress"}),(0,a.jsxs)("p",{className:"font-mono",children:[y.estimated_time_seconds?Math.min(100,Math.round(y.total_time_seconds/y.estimated_time_seconds*100)):0,"%"]})]})]})})})})]})}function ez(e){let{tasks:t,onComplete:s,onTally:i,onPomodoro:n,onTimer:c,onClick:d}=e,[o,m]=(0,r.useState)("due_date"),[u,h]=(0,r.useState)("asc"),[p,g]=(0,r.useState)("all"),j=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-",y=e=>{if(!e)return{text:"No due date",color:"text-text-muted",urgent:!1,overdue:!1,percent:0};let t=new Date(e),s=new Date,a=t.getTime()-s.getTime(),r=Math.ceil(a/864e5);return r<0?{text:"".concat(Math.abs(r),"d overdue"),color:"text-red-400",urgent:!0,overdue:!0,percent:100}:0===r?{text:"".concat(Math.ceil(a/36e5),"h left"),color:"text-yellow-400",urgent:!0,overdue:!1,percent:90}:1===r?{text:"1d left",color:"text-yellow-400",urgent:!0,overdue:!1,percent:80}:r<=3?{text:"".concat(r,"d left"),color:"text-orange-400",urgent:!1,overdue:!1,percent:60}:{text:"".concat(r,"d left"),color:"text-text-muted",urgent:!1,overdue:!1,percent:40}},b=e=>{if(!e)return 0;let t=new Date(e),s=new Date;return Math.min(100,Math.max(0,(7-Math.ceil((t.getTime()-s.getTime())/864e5))/7*100))},N=(e,t)=>t?"bg-red-500":e>=80?"bg-yellow-500":e>=60?"bg-orange-500":"bg-emerald-500",v=e=>{if(!e)return"-";let t=new Date,s=new Date(e),a=Math.floor((t.getTime()-s.getTime())/36e5),r=Math.floor(a/24);return r>0?"".concat(r,"d ago"):a>0?"".concat(a,"h ago"):"Just now"},w=e=>{if(!e)return"inactive";let t=new Date,s=new Date(e),a=(t.getTime()-s.getTime())/36e5;return a<1?"active":a<24?"away":"inactive"},k=t.filter(e=>"all"===p||e.status===p).sort((e,t)=>{let s=0;switch(o){case"title":s=e.title.localeCompare(t.title);break;case"due_date":s=new Date(e.due_date||"9999").getTime()-new Date(t.due_date||"9999").getTime();break;case"priority":let a={high:0,medium:1,low:2};s=a[e.priority]-a[t.priority];break;case"tally_count":s=e.tally_count-t.tally_count;break;case"pomodoro_count":s=e.pomodoro_count-t.pomodoro_count;break;case"total_time_seconds":s=e.total_time_seconds-t.total_time_seconds}return"asc"===u?s:-s}),_=e=>{o===e?h("asc"===u?"desc":"asc"):(m(e),h("asc"))};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)("div",{className:"flex bg-dark-tertiary rounded-lg p-1",children:["all","pending","completed"].map(e=>(0,a.jsx)("button",{onClick:()=>g(e),className:"px-3 py-1.5 rounded-md text-xs capitalize transition-colors ".concat(p===e?"bg-accent-primary text-white":"text-text-muted hover:text-text-primary"),children:e},e))}),(0,a.jsx)("div",{className:"flex bg-dark-tertiary rounded-lg p-1 ml-auto",children:["title","due_date","priority","tally_count","pomodoro_count"].map(e=>(0,a.jsxs)("button",{onClick:()=>_(e),className:"px-3 py-1.5 rounded-md text-xs capitalize transition-colors ".concat(o===e?"bg-dark-secondary text-accent-primary":"text-text-muted hover:text-text-primary"),children:[e.replace("_"," "),o===e&&(0,a.jsx)("span",{className:"ml-1",children:"asc"===u?"↑":"↓"})]},e))})]}),(0,a.jsxs)("div",{className:"hidden grid-cols-[40px_1.5fr_100px_80px_80px_70px_70px] gap-2 px-4 py-2 bg-dark-tertiary rounded-t-xl text-xs text-text-muted font-medium",children:[(0,a.jsx)("div",{children:"#"}),(0,a.jsx)("div",{children:"Task"}),(0,a.jsx)("div",{children:"Due"}),(0,a.jsx)("div",{children:"Countdown"}),(0,a.jsx)("div",{children:"Time Away"}),(0,a.jsx)("div",{children:"Tally"}),(0,a.jsx)("div",{children:"Pomodoro"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[k.map((e,t)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"grid grid-cols-[40px_1.5fr_100px_80px_80px_70px_70px] gap-2 items-center px-4 py-3 bg-dark-secondary rounded-xl hover:bg-dark-tertiary transition-colors cursor-pointer",onClick:()=>d(e),children:[(0,a.jsx)("div",{className:"text-xs text-text-muted",children:t+1}),(0,a.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),s(e.id)},className:"w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-all ".concat("completed"===e.status?"bg-emerald-500 border-emerald-500":"border-text-muted hover:border-accent-primary"),children:"completed"===e.status&&(0,a.jsx)(z.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h3",{className:"text-sm font-medium truncate ".concat("completed"===e.status?"line-through text-text-muted":"text-text-primary"),children:e.title}),e.tags&&e.tags.length>0&&(0,a.jsx)("div",{className:"flex gap-1 mt-1",children:e.tags.slice(0,2).map(e=>(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded bg-opacity-20",style:{backgroundColor:"".concat(e.color,"20"),color:e.color},children:e.icon},e.id))})]})]}),(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsx)("div",{className:"font-medium ".concat(y(e.due_date).color),children:j(e.due_date)}),(0,a.jsx)("div",{className:"text-[10px] ".concat(y(e.due_date).color),children:y(e.due_date).text})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"h-1.5 bg-dark-primary rounded-full overflow-hidden",children:(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(b(e.due_date),"%")},transition:{delay:.05*t+.2,duration:.3},className:"h-full rounded-full ".concat(N(b(e.due_date),y(e.due_date).overdue))})}),(0,a.jsxs)("span",{className:"text-[10px] text-text-muted",children:[Math.round(b(e.due_date)),"%"]})]}),(0,a.jsx)("div",{className:"text-xs",children:(0,a.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let t=w(e.last_active_at);return(0,a.jsxs)(a.Fragment,{children:["active"===t&&(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),"away"===t&&(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-500"}),"inactive"===t&&(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-500"}),(0,a.jsx)("span",{className:"text-text-primary",children:v(e.last_active_at)})]})})()})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),i(e.id)},className:"w-6 h-6 rounded bg-accent-primary/20 flex items-center justify-center",children:(0,a.jsx)(f.Z,{className:"w-3 h-3 text-accent-primary"})}),(0,a.jsx)("span",{className:"text-xs text-text-primary font-medium",children:e.tally_count})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),n(e.id)},className:"w-6 h-6 rounded bg-yellow-500/20 flex items-center justify-center",children:(0,a.jsx)(I.Z,{className:"w-3 h-3 text-yellow-500"})}),(0,a.jsx)("span",{className:"text-xs text-text-primary font-medium",children:e.pomodoro_count})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),c(e.id)},className:"w-6 h-6 rounded bg-blue-500/20 flex items-center justify-center",children:(0,a.jsx)(U.Z,{className:"w-3 h-3 text-blue-500"})}),(0,a.jsx)("span",{className:"text-xs text-text-primary font-medium",children:X(e.total_time_seconds)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),i(e.id)},className:"w-5 h-5 rounded bg-accent-primary/20 flex items-center justify-center",children:(0,a.jsx)(f.Z,{className:"w-2.5 h-2.5 text-accent-primary"})}),(0,a.jsx)("span",{className:"text-xs text-text-primary font-medium",children:e.tally_count})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),n(e.id)},className:"w-5 h-5 rounded bg-yellow-500/20 flex items-center justify-center",children:(0,a.jsx)(I.Z,{className:"w-2.5 h-2.5 text-yellow-500"})}),(0,a.jsx)("span",{className:"text-xs text-text-primary font-medium",children:e.pomodoro_count})]})]},e.id)),0===k.length&&(0,a.jsx)(x,{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-text-muted",children:"No tasks found"})})]})]})}var eA=s(4766),eU=s(4022);let eR=[{id:"pending",title:"Pending",color:"text-gray-400"},{id:"in_progress",title:"In Progress",color:"text-blue-400"},{id:"completed",title:"Completed",color:"text-emerald-400"}];function eH(e){let{tasks:t,onComplete:s,onTally:i,onPomodoro:n,onTimer:c,onStatusChange:d,onClick:o}=e,[m,u]=(0,r.useState)(t),h=e=>t.filter(t=>t.status===e),p=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"",g=e=>{if(!e)return{text:"",color:"text-text-muted",urgent:!1,overdue:!1,percent:0};let t=new Date(e),s=new Date,a=t.getTime()-s.getTime(),r=Math.ceil(a/864e5);return r<0?{text:"".concat(Math.abs(r),"d overdue"),color:"text-red-400",urgent:!0,overdue:!0,percent:100}:0===r?{text:"".concat(Math.ceil(a/36e5),"h left"),color:"text-yellow-400",urgent:!0,overdue:!1,percent:90}:1===r?{text:"1d left",color:"text-yellow-400",urgent:!0,overdue:!1,percent:80}:r<=3?{text:"".concat(r,"d left"),color:"text-orange-400",urgent:!1,overdue:!1,percent:60}:{text:"".concat(r,"d left"),color:"text-text-muted",urgent:!1,overdue:!1,percent:40}},j=e=>{if(!e)return 0;let t=new Date(e),s=new Date;return Math.min(100,Math.max(0,(7-Math.ceil((t.getTime()-s.getTime())/864e5))/7*100))},y=(e,t)=>t?"bg-red-500":e>=80?"bg-yellow-500":e>=60?"bg-orange-500":"bg-emerald-500",b=e=>{if(!e)return"-";let t=new Date,s=new Date(e),a=Math.floor((t.getTime()-s.getTime())/36e5),r=Math.floor(a/24);return r>0?"".concat(r,"d ago"):a>0?"".concat(a,"h ago"):"Just now"},N=e=>{if(!e)return"inactive";let t=new Date,s=new Date(e),a=(t.getTime()-s.getTime())/36e5;return a<1?"active":a<24?"away":"inactive"},v=e=>{let t=h(e);return{count:t.length,pomodoro:t.reduce((e,t)=>e+t.pomodoro_count,0),time:t.reduce((e,t)=>e+t.total_time_seconds,0)}},w={low:"low",medium:"medium",high:"high"};return(0,a.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-4",children:eR.map(e=>{let t=h(e.id),s=v(e.id);return(0,a.jsx)("div",{className:"flex-shrink-0 w-80",children:(0,a.jsxs)(x,{className:"p-4 h-full bg-dark-secondary",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"font-semibold ".concat(e.color),children:e.title}),(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full bg-dark-tertiary text-text-muted",children:t.length})]}),(0,a.jsx)("button",{className:"p-1 rounded hover:bg-dark-tertiary transition-colors",children:(0,a.jsx)(f.Z,{className:"w-4 h-4 text-text-muted"})})]}),(0,a.jsxs)("div",{className:"flex gap-3 mb-4 text-xs text-text-muted",children:[(0,a.jsxs)("span",{children:["\uD83C\uDF45 ",s.pomodoro]}),(0,a.jsxs)("span",{children:["⏱️ ",X(s.time)]})]}),(0,a.jsxs)("div",{className:"space-y-3 overflow-y-auto max-h-[calc(100vh-300px)]",children:[t.map(t=>(0,a.jsxs)(l.E.div,{layoutId:t.id,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(t),className:"p-3 bg-dark-tertiary rounded-xl cursor-pointer hover:bg-dark-primary transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-medium text-sm ".concat("completed"===t.status?"line-through text-text-muted":"text-text-primary"),children:t.title}),(0,a.jsx)(R,{variant:w[t.priority],className:"text-xs",children:"high"===t.priority?"H":"medium"===t.priority?"M":"L"})]}),t.due_date&&(0,a.jsxs)("div",{className:"text-xs mb-2 ".concat(g(t.due_date).color),children:["\uD83D\uDCC5 ",p(t.due_date)," • ",g(t.due_date).text]}),t.description&&(0,a.jsx)("p",{className:"text-xs text-text-muted line-clamp-2 mb-2",children:t.description}),t.due_date&&(0,a.jsx)("div",{className:"mb-2",children:(0,a.jsx)("div",{className:"h-1 bg-dark-primary rounded-full overflow-hidden",children:(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(j(t.due_date),"%")},className:"h-full rounded-full ".concat(y(j(t.due_date),g(t.due_date).overdue))})})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-xs",children:[(0,a.jsx)("span",{className:"flex items-center gap-1",children:(()=>{let e=N(t.last_active_at);return(0,a.jsxs)(a.Fragment,{children:["active"===e&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"away"===e&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"inactive"===e&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),(0,a.jsx)("span",{className:"text-text-muted",children:b(t.last_active_at)})]})})()}),t.reminder_interval_minutes&&t.reminder_interval_minutes>0?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[(0,a.jsx)(eA.Z,{className:"w-3 h-3"}),t.reminder_interval_minutes,"m"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-text-muted",children:[(0,a.jsx)(eU.Z,{className:"w-3 h-3"}),"Off"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:e=>{e.stopPropagation(),i(t.id)},className:"flex items-center gap-1 px-2 py-1 rounded bg-accent-primary/20",children:[(0,a.jsx)("span",{className:"text-accent-primary",children:"+"}),(0,a.jsx)("span",{className:"text-text-primary",children:t.tally_count})]}),(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:e=>{e.stopPropagation(),n(t.id)},className:"flex items-center gap-1 px-2 py-1 rounded bg-yellow-500/20",children:[(0,a.jsx)(I.Z,{className:"w-3 h-3 text-yellow-500"}),(0,a.jsx)("span",{className:"text-text-primary",children:t.pomodoro_count})]}),(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:e=>{e.stopPropagation(),c(t.id)},className:"flex items-center gap-1 px-2 py-1 rounded bg-blue-500/20",children:[(0,a.jsx)(U.Z,{className:"w-3 h-3 text-blue-500"}),(0,a.jsx)("span",{className:"text-text-primary",children:X(t.total_time_seconds)})]})]}),"completed"!==t.status&&(0,a.jsxs)("div",{className:"flex gap-2 mt-3 pt-3 border-t border-dark-primary",children:["completed"!==e.id&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),d(t.id,"completed")},className:"flex-1 py-1.5 px-3 text-xs rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30 transition-colors",children:"Complete"}),"pending"===e.id&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),d(t.id,"in_progress")},className:"flex-1 py-1.5 px-3 text-xs rounded-lg bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 transition-colors",children:"Start"})]})]},t.id)),0===t.length&&(0,a.jsx)("div",{className:"p-4 text-center text-text-muted text-sm border-2 border-dashed border-dark-tertiary rounded-xl",children:"No tasks"})]})]})},e.id)})})}var eB=s(2451),eX=s(407);function eG(e){let{tasks:t,onClick:s}=e,[i,n]=(0,r.useState)(new Date),[c,d]=(0,r.useState)("month"),o=i.getFullYear(),m=i.getMonth(),u=new Date(o,m,1),h=new Date(o,m+1,0),p=u.getDay(),g=h.getDate(),j=e=>{let s=new Date(o,m,e).toISOString().split("T")[0];return t.filter(e=>{var t;return null===(t=e.due_date)||void 0===t?void 0:t.startsWith(s)})},y=e=>{let t=new Date;return e===t.getDate()&&m===t.getMonth()&&o===t.getFullYear()},b=e=>{if(!e)return{text:"",urgent:!1,overdue:!1,color:"text-text-muted"};let t=new Date(e),s=new Date,a=Math.ceil((t.getTime()-s.getTime())/864e5);return a<0?{text:"".concat(Math.abs(a),"d overdue"),urgent:!0,overdue:!0,color:"text-red-400"}:0===a?{text:"Today",urgent:!0,overdue:!1,color:"text-yellow-400"}:1===a?{text:"1d",urgent:!0,overdue:!1,color:"text-yellow-400"}:a<=3?{text:"".concat(a,"d"),urgent:!1,overdue:!1,color:"text-orange-400"}:{text:"".concat(a,"d"),urgent:!1,overdue:!1,color:"text-text-muted"}},N=[];for(let e=0;e<p;e++)N.push(null);for(let e=1;e<=g;e++)N.push(e);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-text-primary",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][m]," ",o]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>{n(new Date(o,m-1,1))},className:"p-2 rounded-lg bg-dark-tertiary hover:bg-dark-secondary transition-colors",children:(0,a.jsx)(eB.Z,{className:"w-5 h-5 text-text-primary"})}),(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>n(new Date),className:"px-3 py-2 rounded-lg bg-dark-tertiary text-sm text-text-primary hover:bg-dark-secondary transition-colors",children:"Today"}),(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>{n(new Date(o,m+1,1))},className:"p-2 rounded-lg bg-dark-tertiary hover:bg-dark-secondary transition-colors",children:(0,a.jsx)(eX.Z,{className:"w-5 h-5 text-text-primary"})})]})]}),(0,a.jsx)("div",{className:"flex bg-dark-tertiary rounded-lg p-1",children:["month","week"].map(e=>(0,a.jsx)("button",{onClick:()=>d(e),className:"px-3 py-1.5 rounded-md text-xs capitalize transition-colors ".concat(c===e?"bg-accent-primary text-white":"text-text-muted hover:text-text-primary"),children:e},e))})]}),(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("div",{className:"text-center text-xs text-text-muted font-medium py-2",children:e},e))}),(0,a.jsx)("div",{className:"grid grid-cols-7 gap-1",children:N.map((e,t)=>{if(!e)return(0,a.jsx)("div",{className:"aspect-square"},"empty-".concat(t));let r=j(e),i=y(e);return(0,a.jsxs)(l.E.div,{whileHover:{scale:1.05},className:"aspect-square p-1 rounded-lg border cursor-pointer transition-colors ".concat(i?"bg-accent-primary/20 border-accent-primary":"border-transparent hover:bg-dark-tertiary"),children:[(0,a.jsx)("div",{className:"text-xs font-medium mb-1 ".concat(i?"text-accent-primary":"text-text-primary"),children:e}),(0,a.jsxs)("div",{className:"space-y-0.5",children:[r.slice(0,3).map(e=>(0,a.jsxs)(l.E.div,{whileTap:{scale:.95},onClick:()=>s(e),className:"flex items-center gap-1 px-1 py-0.5 rounded text-[10px] truncate ".concat("completed"===e.status?"bg-emerald-500/20 text-emerald-400":"bg-accent-primary/10 text-accent-primary"),children:[(0,a.jsx)("span",{className:"truncate",children:e.title}),(0,a.jsx)("span",{className:"text-[10px] opacity-70 ".concat(b(e.due_date).color),children:b(e.due_date).text})]},e.id)),r.length>3&&(0,a.jsxs)("div",{className:"text-[10px] text-text-muted text-center",children:["+",r.length-3," more"]})]})]},e)})})]}),(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-text-primary mb-3",children:"Upcoming Tasks"}),(0,a.jsx)("div",{className:"space-y-2",children:t.filter(e=>e.due_date&&new Date(e.due_date)>=new Date).sort((e,t)=>new Date(e.due_date).getTime()-new Date(t.due_date).getTime()).slice(0,5).map(e=>(0,a.jsxs)(l.E.div,{whileHover:{x:4},onClick:()=>s(e),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-dark-tertiary cursor-pointer transition-colors",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("high"===e.priority?"bg-red-500":"medium"===e.priority?"bg-yellow-500":"bg-green-500")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm text-text-primary truncate",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:e.due_date?new Date(e.due_date).toLocaleDateString():"No due date"})]}),(0,a.jsx)(R,{variant:"high"===e.priority?"high":"medium"===e.priority?"medium":"low",children:e.priority})]},e.id))})]})]})}var eV=s(1473);function eW(e){let{tasks:t,onComplete:s,onTally:i,onPomodoro:n,onTimer:c,onClick:d}=e,[o,m]=(0,r.useState)("large"),[u,h]=(0,r.useState)("all"),p=t.filter(e=>"all"===u||e.priority===u),g=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"",j=e=>{if(!e)return{text:"",color:"text-text-muted",urgent:!1,overdue:!1,percent:0};let t=new Date(e),s=new Date,a=Math.ceil((t.getTime()-s.getTime())/864e5);return a<0?{text:"".concat(Math.abs(a),"d overdue"),color:"text-red-400",urgent:!0,overdue:!0,percent:100}:0===a?{text:"Today",color:"text-yellow-400",urgent:!0,overdue:!1,percent:90}:1===a?{text:"1d left",color:"text-yellow-400",urgent:!0,overdue:!1,percent:80}:a<=3?{text:"".concat(a,"d left"),color:"text-orange-400",urgent:!1,overdue:!1,percent:60}:{text:"".concat(a,"d left"),color:"text-text-muted",urgent:!1,overdue:!1,percent:40}},y=e=>{if(!e)return 0;let t=new Date(e),s=new Date;return Math.min(100,Math.max(0,(7-Math.ceil((t.getTime()-s.getTime())/864e5))/7*100))},b=(e,t)=>t?"bg-red-500":e>=80?"bg-yellow-500":e>=60?"bg-orange-500":"bg-emerald-500",N=e=>{if(!e)return"-";let t=new Date,s=new Date(e),a=Math.floor((t.getTime()-s.getTime())/36e5),r=Math.floor(a/24);return r>0?"".concat(r,"d ago"):a>0?"".concat(a,"h ago"):"Just now"},v=e=>{if(!e)return"inactive";let t=new Date,s=new Date(e),a=(t.getTime()-s.getTime())/36e5;return a<1?"active":a<24?"away":"inactive"},w={low:"low",medium:"medium",high:"high"};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)("div",{className:"flex bg-dark-tertiary rounded-lg p-1",children:["all","high","medium","low"].map(e=>(0,a.jsx)("button",{onClick:()=>h(e),className:"px-3 py-1.5 rounded-md text-xs capitalize transition-colors ".concat(u===e?"bg-accent-primary text-white":"text-text-muted hover:text-text-primary"),children:e},e))}),(0,a.jsxs)("div",{className:"flex bg-dark-tertiary rounded-lg p-1 ml-auto",children:[(0,a.jsx)("button",{onClick:()=>m("large"),className:"p-2 rounded-md transition-colors ".concat("large"===o?"bg-dark-secondary text-accent-primary":"text-text-muted"),children:(0,a.jsx)(eV.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>m("compact"),className:"p-2 rounded-md transition-colors ".concat("compact"===o?"bg-dark-secondary text-accent-primary":"text-text-muted"),children:(0,a.jsx)(M.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsx)("div",{className:"large"===o?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3",children:p.map((e,t)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.05*t},whileHover:{y:-4},onClick:()=>d(e),className:"".concat("large"===o?"p-4":"p-3"," bg-dark-secondary rounded-xl cursor-pointer hover:bg-dark-tertiary transition-colors border border-transparent hover:border-accent-primary/30"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),s(e.id)},className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ".concat("completed"===e.status?"bg-emerald-500 border-emerald-500":"border-text-muted hover:border-accent-primary"),children:"completed"===e.status&&(0,a.jsx)(z.Z,{className:"w-4 h-4 text-white"})}),(0,a.jsx)(R,{variant:w[e.priority],className:"text-xs",children:e.priority})]}),(0,a.jsx)("h3",{className:"font-medium text-sm mb-2 line-clamp-2 ".concat("completed"===e.status?"line-through text-text-muted":"text-text-primary"),children:e.title}),"large"===o&&e.description&&(0,a.jsx)("p",{className:"text-xs text-text-muted line-clamp-2 mb-3",children:e.description}),"large"===o&&e.tags&&e.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mb-3",children:e.tags.slice(0,3).map(e=>(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-opacity-20",style:{backgroundColor:"".concat(e.color,"20"),color:e.color},children:e.icon},e.id))}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),i(e.id)},className:"flex items-center gap-1 px-2 py-1 rounded bg-accent-primary/20",children:[(0,a.jsx)(f.Z,{className:"w-3 h-3 text-accent-primary"}),(0,a.jsx)("span",{className:"text-text-primary",children:e.tally_count})]}),(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),n(e.id)},className:"flex items-center gap-1 px-2 py-1 rounded bg-yellow-500/20",children:[(0,a.jsx)(I.Z,{className:"w-3 h-3 text-yellow-500"}),(0,a.jsx)("span",{className:"text-text-primary",children:e.pomodoro_count})]}),(0,a.jsxs)(l.E.button,{whileTap:{scale:.9},onClick:t=>{t.stopPropagation(),c(e.id)},className:"flex items-center gap-1 px-2 py-1 rounded bg-blue-500/20",children:[(0,a.jsx)(U.Z,{className:"w-3 h-3 text-blue-500"}),(0,a.jsx)("span",{className:"text-text-primary",children:X(e.total_time_seconds)})]})]}),e.due_date&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-dark-tertiary",children:[(0,a.jsxs)("div",{className:"text-xs ".concat(j(e.due_date).color," mb-1"),children:["\uD83D\uDCC5 ",g(e.due_date)," • ",j(e.due_date).text]}),(0,a.jsx)("div",{className:"h-1 bg-dark-primary rounded-full overflow-hidden",children:(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(y(e.due_date),"%")},className:"h-full rounded-full ".concat(b(y(e.due_date),j(e.due_date).overdue))})})]}),"large"===o&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2 text-xs",children:[(0,a.jsx)("span",{className:"flex items-center gap-1",children:(()=>{let t=v(e.last_active_at);return(0,a.jsxs)(a.Fragment,{children:["active"===t&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"away"===t&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-yellow-500"}),"inactive"===t&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),(0,a.jsx)("span",{className:"text-text-muted",children:N(e.last_active_at)})]})})()}),e.reminder_interval_minutes&&e.reminder_interval_minutes>0?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[(0,a.jsx)(eA.Z,{className:"w-3 h-3"}),e.reminder_interval_minutes,"m"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-text-muted",children:[(0,a.jsx)(eU.Z,{className:"w-3 h-3"}),"Off"]})]})]},e.id))}),0===p.length&&(0,a.jsx)(x,{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-text-muted",children:"No tasks found"})})]})}function eJ(e){let{tasks:t,onClick:s}=e,[i,n]=(0,r.useState)(new Date),[c,d]=(0,r.useState)("week"),o="week"===c?7:"month"===c?30:90,m=Array.from({length:o},(e,t)=>{let s=new Date(i);return s.setDate(s.getDate()+t),s}),u=e=>{if(!e.due_date)return null;let t=new Date(new Date(e.due_date));return t.setDate(t.getDate()-Math.floor(5*Math.random()+1)),{start:Math.floor((t.getTime()-i.getTime())/864e5),duration:Math.floor(3*Math.random()+1)}},h=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),p=e=>{let t=new Date;return e.toDateString()===t.toDateString()},g=e=>e>=80?"bg-emerald-500":e>=50?"bg-blue-500":e>=25?"bg-yellow-500":"bg-gray-500",j=e=>{if(!e)return{text:"",color:"text-text-muted",urgent:!1,overdue:!1};let t=new Date(e),s=new Date,a=Math.ceil((t.getTime()-s.getTime())/864e5);return a<0?{text:"".concat(Math.abs(a),"d overdue"),color:"text-red-400",urgent:!0,overdue:!0}:0===a?{text:"Today",color:"text-yellow-400",urgent:!0,overdue:!1}:1===a?{text:"1d left",color:"text-yellow-400",urgent:!0,overdue:!1}:a<=3?{text:"".concat(a,"d left"),color:"text-orange-400",urgent:!1,overdue:!1}:{text:"".concat(a,"d left"),color:"text-text-muted",urgent:!1,overdue:!1}},y={low:"low",medium:"medium",high:"high"};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-text-primary",children:[h(i)," - ",h(m[m.length-1])]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>{let e=new Date(i);e.setDate(e.getDate()-o),n(e)},className:"p-2 rounded-lg bg-dark-tertiary hover:bg-dark-secondary transition-colors",children:(0,a.jsx)(eB.Z,{className:"w-5 h-5 text-text-primary"})}),(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>n(new Date),className:"px-3 py-2 rounded-lg bg-dark-tertiary text-sm text-text-primary hover:bg-dark-secondary transition-colors",children:"Today"}),(0,a.jsx)(l.E.button,{whileTap:{scale:.9},onClick:()=>{let e=new Date(i);e.setDate(e.getDate()+o),n(e)},className:"p-2 rounded-lg bg-dark-tertiary hover:bg-dark-secondary transition-colors",children:(0,a.jsx)(eX.Z,{className:"w-5 h-5 text-text-primary"})})]})]}),(0,a.jsx)("div",{className:"flex bg-dark-tertiary rounded-lg p-1",children:["week","month","quarter"].map(e=>(0,a.jsx)("button",{onClick:()=>d(e),className:"px-3 py-1.5 rounded-md text-xs capitalize transition-colors ".concat(c===e?"bg-accent-primary text-white":"text-text-muted hover:text-text-primary"),children:e},e))})]}),(0,a.jsx)(x,{className:"p-4 overflow-x-auto",children:(0,a.jsxs)("div",{className:"min-w-[800px]",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[200px_1fr] gap-2 mb-2",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-text-muted",children:"Task"}),(0,a.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(".concat(o,", 1fr)")},children:m.map((e,t)=>(0,a.jsxs)("div",{className:"text-center text-xs py-1 ".concat(p(e)?"text-accent-primary font-medium":"text-text-muted"),children:[h(e).split(" ")[0],(0,a.jsx)("br",{}),e.getDate()]},t))})]}),(0,a.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>{let r=u(e),i=Math.floor(100*Math.random()),n=r?Math.max(0,r.start)*(100/o):0,c=r?Math.min(r.duration,o-n)*(100/o):10;return(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"grid grid-cols-[200px_1fr] gap-2 items-center",children:[(0,a.jsxs)("div",{onClick:()=>s(e),className:"flex items-center gap-2 cursor-pointer hover:bg-dark-tertiary p-2 rounded-lg",children:[(0,a.jsx)(R,{variant:y[e.priority],className:"text-xs",children:e.priority[0].toUpperCase()}),(0,a.jsx)("span",{className:"text-sm truncate ".concat("completed"===e.status?"line-through text-text-muted":"text-text-primary"),children:e.title}),e.due_date&&(0,a.jsxs)("span",{className:"text-xs ".concat(j(e.due_date).color),children:["• ",j(e.due_date).text]})]}),(0,a.jsxs)("div",{className:"relative h-8 bg-dark-tertiary rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex",style:{gridTemplateColumns:"repeat(".concat(o,", 1fr)")},children:m.map((e,t)=>(0,a.jsx)("div",{className:"border-r border-dark-primary h-full"},t))}),m.findIndex(p)>=0&&(0,a.jsx)("div",{className:"absolute top-0 bottom-0 w-0.5 bg-accent-primary z-10",style:{left:"".concat(m.findIndex(p)*(100/o),"%")}}),r&&n+c>0&&n<100&&(0,a.jsx)(l.E.div,{initial:{width:0},animate:{width:"".concat(Math.min(c,100-n),"%")},transition:{delay:.1*t,duration:.3},className:"absolute top-1 h-6 rounded-md cursor-pointer ".concat(g(i)),style:{left:"".concat(n,"%")},onClick:()=>s(e),children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-full gap-1",children:[(0,a.jsxs)("span",{className:"text-xs text-white font-medium truncate",children:[i,"%"]}),e.reminder_interval_minutes&&e.reminder_interval_minutes>0&&(0,a.jsx)(eA.Z,{className:"w-3 h-3 text-white/70"})]})})]})]},e.id)})})]})}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs text-text-muted",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-emerald-500"}),(0,a.jsx)("span",{children:"80-100%"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-blue-500"}),(0,a.jsx)("span",{children:"50-79%"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-yellow-500"}),(0,a.jsx)("span",{children:"25-49%"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded bg-gray-500"}),(0,a.jsx)("span",{children:"0-24%"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-0.5 h-4 bg-accent-primary"}),(0,a.jsx)("span",{children:"Today"})]})]})]})}function eq(e){let{tasks:t,onClick:s}=e,[i,n]=(0,r.useState)("day"),c=(e,t)=>{let s=9+t%6,a=1+t%3;return{start:s,duration:a,top:(s-9)*60,height:60*a}},d=e=>{if(!e)return{text:"",color:"text-text-muted",urgent:!1,overdue:!1};let t=new Date(e),s=new Date,a=Math.ceil((t.getTime()-s.getTime())/864e5);return a<0?{text:"".concat(Math.abs(a),"d overdue"),color:"text-red-400",urgent:!0,overdue:!0}:0===a?{text:"Today",color:"text-yellow-400",urgent:!0,overdue:!1}:1===a?{text:"1d left",color:"text-yellow-400",urgent:!0,overdue:!1}:a<=3?{text:"".concat(a,"d left"),color:"text-orange-400",urgent:!1,overdue:!1}:{text:"".concat(a,"d left"),color:"text-text-muted",urgent:!1,overdue:!1}},o=e=>{if(!e)return"-";let t=new Date,s=new Date(e),a=Math.floor((t.getTime()-s.getTime())/6e4),r=Math.floor(a/60),l=Math.floor(r/24);return l>0?"".concat(l,"d ago"):r>0?"".concat(r,"h ago"):a>0?"".concat(a,"m ago"):"Just now"},m=Array.from({length:10},(e,t)=>t+9),u={low:"low",medium:"medium",high:"high"};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-text-primary",children:"Timeline"}),(0,a.jsx)("div",{className:"text-sm text-text-muted",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})})]}),(0,a.jsx)("div",{className:"flex bg-dark-tertiary rounded-lg p-1",children:["day","week"].map(e=>(0,a.jsx)("button",{onClick:()=>n(e),className:"px-3 py-1.5 rounded-md text-xs capitalize transition-colors ".concat(i===e?"bg-accent-primary text-white":"text-text-muted hover:text-text-primary"),children:e},e))})]}),(0,a.jsx)(x,{className:"p-4 overflow-x-auto",children:(0,a.jsx)("div",{className:"min-w-[600px]",children:(0,a.jsxs)("div",{className:"grid grid-cols-[80px_1fr] gap-2",children:[(0,a.jsx)("div",{className:"space-y-4",children:m.map(e=>(0,a.jsx)("div",{className:"h-16 text-xs text-text-muted text-right pr-2",children:e>12?"".concat(e-12," PM"):12===e?"12 PM":"".concat(e," AM")},e))}),(0,a.jsxs)("div",{className:"relative border-l border-dark-tertiary",children:[m.map(e=>(0,a.jsx)("div",{className:"h-16 border-b border-dark-tertiary"},e)),t.slice(0,5).map((e,t)=>{let r=c(e,t);return(0,a.jsx)(l.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1*t},onClick:()=>s(e),className:"absolute left-2 right-2 rounded-lg cursor-pointer overflow-hidden",style:{top:"".concat(r.top,"px"),height:"".concat(r.height-4,"px")},children:(0,a.jsxs)("div",{className:"h-full rounded-lg p-2 border-l-4 ".concat("high"===e.priority?"bg-red-500/20 border-red-500":"medium"===e.priority?"bg-yellow-500/20 border-yellow-500":"bg-green-500/20 border-green-500"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-text-primary truncate",children:e.title}),(0,a.jsx)(R,{variant:u[e.priority],className:"text-[10px] px-1",children:e.priority})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[(0,a.jsx)(I.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:[r.duration,"h"]}),(0,a.jsx)(U.Z,{className:"w-3 h-3"}),(0,a.jsx)("span",{children:X(e.total_time_seconds)}),e.due_date&&(0,a.jsxs)("span",{className:d(e.due_date).color,children:["• ",d(e.due_date).text]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-text-muted mt-1",children:[(0,a.jsx)("span",{children:o(e.last_active_at)}),e.reminder_interval_minutes&&e.reminder_interval_minutes>0?(0,a.jsx)(eA.Z,{className:"w-3 h-3 text-yellow-400"}):(0,a.jsx)(eU.Z,{className:"w-3 h-3 text-text-muted"})]}),(0,a.jsx)("div",{className:"mt-1 h-1 bg-dark-primary rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-accent-primary rounded-full",style:{width:"".concat(Math.floor(100*Math.random()),"%")}})})]})},e.id)})]})]})})}),(0,a.jsxs)(x,{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-text-primary mb-3",children:"Upcoming"}),(0,a.jsx)("div",{className:"space-y-2",children:t.filter(e=>"completed"!==e.status).slice(0,5).map((e,t)=>(0,a.jsxs)(l.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},onClick:()=>s(e),className:"flex items-center gap-3 p-3 rounded-lg bg-dark-tertiary cursor-pointer hover:bg-dark-primary transition-colors",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-accent-primary/20 flex items-center justify-center",children:(0,a.jsx)(I.Z,{className:"w-5 h-5 text-accent-primary"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:e.due_date?new Date(e.due_date).toLocaleDateString():"No due date"})]}),(0,a.jsx)(R,{variant:u[e.priority],children:e.priority})]},e.id))})]})]})}var eY=s(740),eK=s(8842),eQ=s(6266);function e$(e){let{tasks:t,onClick:s}=e,[i,n]=(0,r.useState)("created_at"),[c,d]=(0,r.useState)("desc"),[o,m]=(0,r.useState)("all"),[u,h]=(0,r.useState)("all"),[p,g]=(0,r.useState)([]),j=t.filter(e=>"all"===o||e.status===o).filter(e=>"all"===u||e.priority===u).sort((e,t)=>{let s=0;switch(i){case"title":s=e.title.localeCompare(t.title);break;case"status":s=e.status.localeCompare(t.status);break;case"priority":let a={high:0,medium:1,low:2};s=a[e.priority]-a[t.priority];break;case"due_date":s=new Date(e.due_date||"9999").getTime()-new Date(t.due_date||"9999").getTime();break;case"created_at":s=new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}return"asc"===c?s:-s}),y=e=>{i===e?d("asc"===c?"desc":"asc"):(n(e),d("asc"))},b=e=>{let t=Math.floor(e/60);return t<60?"".concat(t,"m"):"".concat(Math.floor(t/60),"h ").concat(t%60,"m")},N=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-",f=e=>{if(!e)return{text:"",color:"text-text-muted",urgent:!1,overdue:!1,percent:0};let t=new Date(e),s=new Date,a=Math.ceil((t.getTime()-s.getTime())/864e5);return a<0?{text:"".concat(Math.abs(a),"d overdue"),color:"text-red-400",urgent:!0,overdue:!0,percent:100}:0===a?{text:"Today",color:"text-yellow-400",urgent:!0,overdue:!1,percent:90}:1===a?{text:"1d left",color:"text-yellow-400",urgent:!0,overdue:!1,percent:80}:a<=3?{text:"".concat(a,"d left"),color:"text-orange-400",urgent:!1,overdue:!1,percent:60}:{text:"".concat(a,"d left"),color:"text-text-muted",urgent:!1,overdue:!1,percent:40}},v=e=>{if(!e)return 0;let t=new Date(e),s=new Date;return Math.min(100,Math.max(0,(7-Math.ceil((t.getTime()-s.getTime())/864e5))/7*100))},w=(e,t)=>t?"bg-red-500":e>=80?"bg-yellow-500":e>=60?"bg-orange-500":"bg-emerald-500",k=e=>{if(!e)return"-";let t=new Date,s=new Date(e),a=Math.floor((t.getTime()-s.getTime())/36e5),r=Math.floor(a/24);return r>0?"".concat(r,"d ago"):a>0?"".concat(a,"h ago"):"Just now"},_=e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},D={low:"low",medium:"medium",high:"high"},C={pending:"text-gray-400 bg-gray-400/10",in_progress:"text-blue-400 bg-blue-400/10",completed:"text-emerald-400 bg-emerald-400/10"};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)("div",{className:"flex bg-dark-tertiary rounded-lg p-1",children:["all","pending","in_progress","completed"].map(e=>(0,a.jsx)("button",{onClick:()=>m(e),className:"px-3 py-1.5 rounded-md text-xs capitalize transition-colors ".concat(o===e?"bg-accent-primary text-white":"text-text-muted hover:text-text-primary"),children:e.replace("_"," ")},e))}),(0,a.jsx)("div",{className:"flex bg-dark-tertiary rounded-lg p-1",children:["all","high","medium","low"].map(e=>(0,a.jsx)("button",{onClick:()=>h(e),className:"px-3 py-1.5 rounded-md text-xs capitalize transition-colors ".concat(u===e?"bg-accent-primary text-white":"text-text-muted hover:text-text-primary"),children:e},e))}),(0,a.jsxs)("div",{className:"flex gap-2 ml-auto",children:[(0,a.jsxs)(V,{variant:"secondary",size:"sm",className:"flex items-center gap-1",children:[(0,a.jsx)(eY.Z,{className:"w-4 h-4"}),"More Filters"]}),(0,a.jsxs)(V,{variant:"secondary",size:"sm",className:"flex items-center gap-1",children:[(0,a.jsx)(eK.Z,{className:"w-4 h-4"}),"Sort"]}),(0,a.jsxs)(V,{variant:"secondary",size:"sm",className:"flex items-center gap-1",children:[(0,a.jsx)(eh.Z,{className:"w-4 h-4"}),"Export"]})]})]}),(0,a.jsxs)(x,{className:"overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-dark-tertiary",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"w-10 px-4 py-3",children:(0,a.jsx)("input",{type:"checkbox",checked:p.length===j.length&&j.length>0,onChange:()=>{p.length===j.length?g([]):g(j.map(e=>e.id))},className:"w-4 h-4 rounded border-text-muted"})}),[{key:"title",label:"Title",width:"minmax(200px, 1fr)"},{key:"status",label:"Status",width:"100px"},{key:"priority",label:"Priority",width:"80px"},{key:"due_date",label:"Due Date",width:"100px"},{key:"countdown",label:"Countdown",width:"80px"},{key:"time_away",label:"Time Away",width:"80px"},{key:"reminder",label:"Reminder",width:"80px"},{key:"tally_count",label:"Tally",width:"60px"},{key:"pomodoro_count",label:"Pomodoro",width:"80px"}].map(e=>(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-muted cursor-pointer hover:text-text-primary transition-colors",style:{minWidth:e.width},onClick:()=>y(e.key),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[e.label,i===e.key&&(0,a.jsx)("span",{className:"text-accent-primary",children:"asc"===c?"↑":"↓"})]})},e.key)),(0,a.jsx)("th",{className:"w-10 px-4 py-3"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-dark-tertiary",children:j.map((e,t)=>(0,a.jsxs)(l.E.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.02*t},className:"hover:bg-dark-tertiary/50 transition-colors ".concat(p.includes(e.id)?"bg-accent-primary/5":""),children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("input",{type:"checkbox",checked:p.includes(e.id),onChange:()=>_(e.id),className:"w-4 h-4 rounded border-text-muted"})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("span",{className:"text-sm font-medium ".concat("completed"===e.status?"line-through text-text-muted":"text-text-primary"),children:e.title})})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded capitalize ".concat(C[e.status]),children:e.status.replace("_"," ")})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)(R,{variant:D[e.priority],className:"text-xs",children:e.priority})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"text-sm text-text-primary",children:e.tally_count})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"text-sm text-text-primary",children:e.pomodoro_count})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"text-sm text-text-primary",children:b(e.total_time_seconds)})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"text-sm ".concat(f(e.due_date).color),children:N(e.due_date)})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"h-1 bg-dark-primary rounded-full overflow-hidden mb-1",children:(0,a.jsx)("div",{className:"h-full rounded-full ".concat(w(v(e.due_date),f(e.due_date).overdue)),style:{width:"".concat(v(e.due_date),"%")}})}),(0,a.jsxs)("span",{className:"text-[10px] text-text-muted",children:[Math.round(v(e.due_date)),"%"]})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"text-sm text-text-muted",children:k(e.last_active_at)})}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.reminder_interval_minutes&&e.reminder_interval_minutes>0?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400",children:[(0,a.jsx)(eA.Z,{className:"w-3 h-3"}),e.reminder_interval_minutes,"m"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-text-muted",children:[(0,a.jsx)(eU.Z,{className:"w-3 h-3"}),"Off"]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("button",{className:"p-1 rounded hover:bg-dark-secondary transition-colors",children:(0,a.jsx)(eQ.Z,{className:"w-4 h-4 text-text-muted"})})})]},e.id))})]})}),(0,a.jsxs)("div",{className:"px-4 py-3 bg-dark-tertiary border-t border-dark-primary flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-xs text-text-muted",children:[j.length," records"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(V,{variant:"ghost",size:"sm",className:"text-xs",children:"Previous"}),(0,a.jsx)("span",{className:"text-xs text-text-muted",children:"Page 1 of 1"}),(0,a.jsx)(V,{variant:"ghost",size:"sm",className:"text-xs",children:"Next"})]})]})]}),p.length>0&&(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-dark-secondary rounded-xl p-3 shadow-xl border border-dark-tertiary flex items-center gap-3",children:[(0,a.jsxs)("span",{className:"text-sm text-text-primary",children:[p.length," selected"]}),(0,a.jsx)(V,{variant:"secondary",size:"sm",children:"Complete"}),(0,a.jsx)(V,{variant:"secondary",size:"sm",children:"Delete"}),(0,a.jsx)(V,{variant:"secondary",size:"sm",children:"Move"}),(0,a.jsx)(V,{variant:"ghost",size:"sm",onClick:()=>g([]),children:"Clear"})]})]})}function e0(e){let{view:t,tasks:s,onComplete:r,onTally:l,onPomodoro:i,onTimer:n,onStatusChange:c,onClick:d}=e;switch(t){case"list":case"main":default:return(0,a.jsx)(ez,{tasks:s,onComplete:r,onTally:l,onPomodoro:i,onTimer:n,onClick:d});case"kanban":return(0,a.jsx)(eH,{tasks:s,onComplete:r,onTally:l,onPomodoro:i,onTimer:n,onStatusChange:c,onClick:d});case"calendar":return(0,a.jsx)(eG,{tasks:s,onClick:d});case"gallery":return(0,a.jsx)(eW,{tasks:s,onComplete:r,onTally:l,onPomodoro:i,onTimer:n,onClick:d});case"gantt":return(0,a.jsx)(eJ,{tasks:s,onClick:d});case"timeline":return(0,a.jsx)(eq,{tasks:s,onClick:d});case"database":return(0,a.jsx)(e$,{tasks:s,onClick:d})}}function e1(){let[e,t]=(0,r.useState)("home"),[s,h]=(0,r.useState)("list"),[p,g]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[_,D]=(0,r.useState)(null),{tasks:C,setTasks:T,updateTask:E,startTimer:M}=eI(),{profile:Z,addXp:P,addCoins:F}=eO();(0,r.useEffect)(()=>{let e=localStorage.getItem("lastTallyReset"),t=new Date().toISOString().split("T")[0];e!==t&&C.length>0&&(C.forEach(e=>{e.tally_count>0&&E(e.id,{tally_count:0})}),localStorage.setItem("lastTallyReset",t))},[C.length]),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{onAway:t,onReturn:s,awayThresholdMs:a=3e4}=e,{activeTaskId:l}=H(),{pauseTimer:i,resumeTimer:n}=eI(),c=(0,r.useRef)(null),d=(0,r.useRef)(null),o=(0,r.useCallback)(()=>{l&&(document.hidden?(c.current=Date.now(),d.current=setTimeout(()=>{i(l),null==t||t()},a)):(c.current&&Date.now()-c.current>=a?null==t||t():(n(l),null==s||s()),c.current=null,d.current&&(clearTimeout(d.current),d.current=null)))},[l,i,n,t,s,a]);(0,r.useEffect)(()=>(document.addEventListener("visibilitychange",o),()=>{document.removeEventListener("visibilitychange",o),d.current&&clearTimeout(d.current)}),[o])}({awayThresholdMs:3e4});let[I,O]=(0,r.useState)([{id:"1",user_id:"demo",name:"Morning jog",icon:"\uD83C\uDFC3",color:"#10b981",frequency:"daily",target_count:1,current_count:1,streak:7,best_streak:14,is_active:!0,created_at:new Date().toISOString()},{id:"2",user_id:"demo",name:"Read 30 min",icon:"\uD83D\uDCDA",color:"#6366f1",frequency:"daily",target_count:1,current_count:0,streak:3,best_streak:10,is_active:!0,created_at:new Date().toISOString()},{id:"3",user_id:"demo",name:"Drink water",icon:"\uD83D\uDCA7",color:"#0ea5e9",frequency:"daily",target_count:8,current_count:5,streak:12,best_streak:20,is_active:!0,created_at:new Date().toISOString()}]),[z,A]=(0,r.useState)([{id:"1",user_id:"demo",title:"Complete 100 tasks",description:"Q1 2025 goal",target_value:100,current_value:45,reward_xp:400,reward_coins:200,deadline:"2026-12-31",is_completed:!1,created_at:new Date().toISOString()},{id:"2",user_id:"demo",title:"Reach Level 10",description:"Level up!",target_value:1e4,current_value:4500,reward_xp:1e3,reward_coins:500,deadline:"2026-12-31",is_completed:!1,created_at:new Date().toISOString()}]),[U,R]=(0,r.useState)([{id:"1",user_id:"demo",title:"Complete 5 tasks today",description:"Daily task challenge",type:"daily",target:5,current_progress:3,reward_xp:50,reward_coins:25,is_completed:!1,expires_at:new Date(Date.now()+864e5).toISOString(),created_at:new Date().toISOString()},{id:"2",user_id:"demo",title:"Do 10 pomodoros",description:"Focus challenge",type:"daily",target:10,current_progress:6,reward_xp:75,reward_coins:30,is_completed:!1,expires_at:new Date(Date.now()+864e5).toISOString(),created_at:new Date().toISOString()},{id:"3",user_id:"demo",title:"Maintain 7-day streak",description:"Weekly streak challenge",type:"weekly",target:7,current_progress:4,reward_xp:200,reward_coins:100,is_completed:!1,expires_at:new Date(Date.now()+6048e5).toISOString(),created_at:new Date().toISOString()}]),[B,X]=(0,r.useState)([{day:1,coins:10,item_rarity:null,is_claimed:!0},{day:2,coins:15,item_rarity:null,is_claimed:!0},{day:3,coins:20,item_rarity:"uncommon",is_claimed:!1},{day:4,coins:25,item_rarity:null,is_claimed:!1},{day:5,coins:30,item_rarity:"rare",is_claimed:!1},{day:6,coins:35,item_rarity:null,is_claimed:!1},{day:7,coins:50,item_rarity:"epic",is_claimed:!1}]),V={total_tasks_completed:156,total_pomodoros:423,total_time_seconds:75600,current_streak:7,best_streak:14,level:(null==Z?void 0:Z.level)||1,xp:(null==Z?void 0:Z.xp)||0,coins:(null==Z?void 0:Z.coins)||0},W=C.filter(e=>"pending"===e.status),J=C.filter(e=>"completed"===e.status&&e.updated_at.startsWith(new Date().toISOString().split("T")[0])),q=e=>{E(e,{status:"completed"}),P(10),F(5)},K=e=>{let t=C.find(t=>t.id===e);if(t){let s=t.tally_count+1;E(e,{tally_count:s,last_tally_at:new Date().toISOString()}),s>=t.tally_goal&&(P(10),F(5))}},Q=e=>{t("timer")},ee=e=>{M(e)},et=e=>{D(e),y(!0)},ea=e=>{O([...I,{...e,id:crypto.randomUUID(),user_id:"demo",current_count:0,streak:0,best_streak:0,created_at:new Date().toISOString()}])},ei=e=>{O(I.map(t=>{if(t.id===e&&t.current_count<t.target_count){let e=t.streak+1;return{...t,current_count:t.current_count+1,streak:e,best_streak:Math.max(e,t.best_streak)}}return t}))},en=e=>{O(I.filter(t=>t.id!==e))},ec=e=>{A([...z,{...e,id:crypto.randomUUID(),user_id:"demo",current_value:0,is_completed:!1,created_at:new Date().toISOString()}])},eo=(e,t)=>{A(z.map(s=>s.id===e?{...s,current_value:s.current_value+t}:s))},em=e=>{A(z.filter(t=>t.id!==e))},eh=e=>{R(U.map(t=>t.id===e?{...t,is_completed:!0}:t)),P(50),F(25)},ep=(e,t)=>{R(U.map(s=>s.id===e?{...s,current_progress:s.current_progress+t}:s))},eg=e=>{X(B.map(t=>t.day===e?{...t,is_claimed:!0}:t));let t=B.find(t=>t.day===e);t&&F(t.coins)};return(0,a.jsxs)("div",{className:"min-h-screen bg-dark-primary",children:[(()=>{switch(e){case"home":return(0,a.jsxs)("div",{className:"p-4 space-y-6 pb-20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(u,{name:(null==Z?void 0:Z.display_name)||"User",showLevel:!0,level:(null==Z?void 0:Z.level)||1}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-xl font-bold text-text-primary",children:["Hello, ",(null==Z?void 0:Z.display_name)||"User"," \uD83D\uDC4B"]}),(0,a.jsx)("p",{className:"text-sm text-text-muted",children:"Let's be productive today!"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.95},className:"p-2 rounded-lg bg-dark-tertiary",onClick:()=>k(!0),children:(0,a.jsx)(i.Z,{className:"w-5 h-5 text-text-primary"})}),(0,a.jsx)(l.E.button,{whileTap:{scale:.95},className:"p-2 rounded-lg bg-dark-tertiary",onClick:()=>f(!0),children:(0,a.jsx)(n.Z,{className:"w-5 h-5 text-text-primary"})}),(0,a.jsx)(S,{})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,a.jsxs)(x,{className:"text-center",children:[(0,a.jsx)(c.Z,{className:"w-6 h-6 text-orange-500 mx-auto mb-1"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:(null==Z?void 0:Z.streak_days)||0}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Day Streak"})]}),(0,a.jsxs)(x,{className:"text-center",children:[(0,a.jsx)(d.Z,{className:"w-6 h-6 text-accent-gold mx-auto mb-1"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:(null==Z?void 0:Z.coins)||0}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Coins"})]}),(0,a.jsxs)(x,{className:"text-center",children:[(0,a.jsx)(o.Z,{className:"w-6 h-6 text-accent-primary mx-auto mb-1"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-text-primary",children:(null==Z?void 0:Z.level)||1}),(0,a.jsx)("p",{className:"text-xs text-text-muted",children:"Level"})]})]}),(0,a.jsx)(ed,{rewards:B,currentStreak:(null==Z?void 0:Z.streak_days)||0,onClaim:eg}),(0,a.jsxs)(x,{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"XP Progress"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-text-primary",children:[(null==Z?void 0:Z.xp)||0," / ",100*((null==Z?void 0:Z.level)||1)," XP"]})]}),(0,a.jsx)(m,{value:((null==Z?void 0:Z.xp)||0)%100,max:100,color:"warning"})]}),(0,a.jsx)(el,{challenges:U,onClaimReward:eh,onUpdateProgress:ep}),(0,a.jsx)(es,{habits:I,onAddHabit:ea,onCompleteHabit:ei,onDeleteHabit:en}),(0,a.jsx)(er,{goals:z,onAddGoal:ec,onUpdateProgress:eo,onDeleteGoal:em}),(0,a.jsxs)(x,{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-3",children:"Today's Progress"}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"Tasks"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-text-primary",children:[J.length," / ",W.length+J.length]})]}),(0,a.jsx)(m,{value:J.length,max:W.length+J.length||1,color:"success"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(l.E.button,{whileTap:{scale:.95},className:"flex-1 py-3 bg-accent-primary rounded-xl text-white font-medium",onClick:()=>g(!0),children:"+ New Task"}),(0,a.jsx)(l.E.button,{whileTap:{scale:.95},className:"flex-1 py-3 bg-dark-tertiary rounded-xl text-text-primary font-medium",onClick:()=>t("timer"),children:"⏱️ Focus"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-text-primary mb-3",children:"Today's Tasks"}),0===W.length?(0,a.jsx)(x,{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-text-muted",children:"No tasks yet. Create one!"})}):W.slice(0,5).map(e=>(0,a.jsx)(G,{task:e,onComplete:q,onTally:K,onPomodoro:Q,onTimer:ee,onClick:()=>et(e)},e.id))]})]});case"tasks":return(0,a.jsxs)("div",{className:"p-4 space-y-4 pb-20",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-text-primary",children:"Tasks"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(L,{currentView:s,onViewChange:h}),(0,a.jsx)(S,{})]})]}),0===C.length?(0,a.jsx)(x,{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-text-muted",children:"No tasks yet"})}):(0,a.jsx)(e0,{view:s,tasks:C,onComplete:q,onTally:K,onPomodoro:Q,onTimer:ee,onStatusChange:(e,t)=>{C.find(t=>t.id===e)&&E(e,{status:t})},onClick:et})]});case"timer":return(0,a.jsxs)("div",{className:"p-4 space-y-4 pb-20",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-text-primary",children:"Focus Timer"}),(0,a.jsxs)(x,{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-text-secondary mb-4",children:"Select a task to start focusing"}),(0,a.jsx)(l.E.button,{whileTap:{scale:.95},className:"px-6 py-3 bg-accent-primary rounded-xl text-white font-medium",onClick:()=>t("tasks"),children:"Select Task"})]})]});case"pet":return(0,a.jsxs)("div",{className:"p-4 space-y-4 pb-20",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-text-primary",children:"Your Pet"}),(0,a.jsx)(eM,{petName:"Coffee Cup",currentHunger:80,userCoins:(null==Z?void 0:Z.coins)||0,onFeed:e=>console.log("Feed:",e)}),(0,a.jsx)(eZ,{petName:"Coffee Cup",petType:"cat",currentLevel:3,currentXP:450,evolutionStage:2,feedCount:20,playCount:15,onEvolve:()=>console.log("Evolve!")})]});case"shop":return(0,a.jsxs)("div",{className:"p-4 space-y-4 pb-20",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-text-primary",children:"Shop"}),(0,a.jsx)(x,{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-text-muted",children:"Shop coming soon!"})})]});case"profile":return(0,a.jsxs)("div",{className:"p-4 space-y-4 pb-20",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-text-primary",children:"Profile"}),(0,a.jsxs)(x,{className:"text-center py-8",children:[(0,a.jsx)(u,{name:(null==Z?void 0:Z.display_name)||"User",size:"xl",showLevel:!0,level:(null==Z?void 0:Z.level)||1}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-text-primary mt-4",children:(null==Z?void 0:Z.display_name)||"User"}),(0,a.jsxs)("p",{className:"text-text-muted",children:["Level ",(null==Z?void 0:Z.level)||1]})]}),(0,a.jsx)(ej,{tasks:C,profile:{id:"demo",display_name:"User",email:"user@example.com"}}),(0,a.jsx)(ek,{isOnline:!0,pendingChanges:0,lastSyncTime:new Date,onSync:()=>{},onClearCache:()=>{}})]});default:return null}})(),(0,a.jsx)(v,{onClick:()=>g(!0),visible:"home"===e||"tasks"===e}),(0,a.jsx)(N,{currentPage:e,onNavigate:t}),(0,a.jsx)(Y,{isOpen:p,onClose:()=>g(!1),onSubmit:e=>{T([...C,{...e,id:crypto.randomUUID(),user_id:(null==Z?void 0:Z.id)||"demo",tally_count:0,pomodoro_count:0,total_time_seconds:0,timer_status:"idle",timer_started_at:null,timer_paused_at:null,accumulated_time_seconds:0,last_active_at:new Date().toISOString(),reminder_enabled:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}])},tags:[]}),j&&_&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>y(!1),children:(0,a.jsx)("div",{className:"w-full max-w-md",onClick:e=>e.stopPropagation(),children:(0,a.jsx)($,{task:_,onUpdateTally:e=>E(_.id,{tally_count:_.tally_count+e}),onStartPomodoro:()=>E(_.id,{pomodoro_count:_.pomodoro_count+1}),onStopPomodoro:()=>{},onStartTimer:()=>E(_.id,{total_time_seconds:_.total_time_seconds+900}),onStopTimer:()=>{},onAddManualTime:e=>E(_.id,{total_time_seconds:_.total_time_seconds+60*e}),onUpdateReminder:(e,t)=>E(_.id,{reminder_enabled:e,reminder_interval_minutes:t}),onUpdateGoal:e=>console.log("Update goal:",e)})})}),b&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>f(!1),children:(0,a.jsx)("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(eS,{teamName:"Engineering",members:[{id:"1",name:"John",role:"admin",xp:1500,tasksCompleted:45,isOnline:!0},{id:"2",name:"Sarah",role:"editor",xp:1200,tasksCompleted:38,isOnline:!0},{id:"3",name:"Mike",role:"viewer",xp:980,tasksCompleted:25,isOnline:!1}],tasks:[{id:"1",title:"Q1 Planning",assignedTo:["1","2"],status:"in_progress",dueDate:"2025-01-25"},{id:"2",title:"Bug Fixes",assignedTo:["3"],status:"pending",dueDate:"2025-01-22"},{id:"3",title:"Code Review",assignedTo:["1"],status:"completed",dueDate:"2025-01-20"}],currentUserId:"1",onInviteMember:e=>console.log("Invite:",e),onAssignTask:(e,t)=>console.log("Assign:",e,t),onCreateTask:e=>console.log("Create:",e)})})}),w&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>k(!1),children:(0,a.jsx)("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"bg-dark-primary rounded-2xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-text-primary",children:"Analytics"}),(0,a.jsx)("button",{onClick:()=>k(!1),className:"text-text-muted",children:"✕"})]}),(0,a.jsx)(ex,{stats:V,weeklyData:[{day:"Mon",tasks:5,hours:4.5},{day:"Tue",tasks:7,hours:6},{day:"Wed",tasks:4,hours:3.5},{day:"Thu",tasks:8,hours:7},{day:"Fri",tasks:6,hours:5.5},{day:"Sat",tasks:3,hours:2},{day:"Sun",tasks:2,hours:1.5}]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(eu,{badges:[{id:"1",name:"First Step",description:"Complete first task",icon:"\uD83C\uDFAF",requirement:"Complete 1 task",xpReward:50,isUnlocked:!0},{id:"2",name:"Week Warrior",description:"7-day streak",icon:"\uD83D\uDD25",requirement:"7-day streak",xpReward:100,isUnlocked:!0},{id:"3",name:"Century Club",description:"100 tasks",icon:"\uD83C\uDFC6",requirement:"100 tasks",xpReward:200,isUnlocked:!1},{id:"4",name:"Pomodoro Pro",description:"100 pomodoros",icon:"\uD83C\uDF45",requirement:"100 pomodoros",xpReward:150,isUnlocked:!0}],onClaim:e=>console.log("Claim badge:",e)})})]})})}),(0,a.jsx)(eL,{})]})}}},function(e){e.O(0,[216,971,117,744],function(){return e(e.s=402)}),_N_E=e.O()}]);